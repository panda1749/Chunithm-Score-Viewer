var f,aa=aa||{},k=this;function l(a){return void 0!==a}function n(){}function ba(a){a.o=function(){return a.rd?a.rd:a.rd=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function p(a){return"array"==ca(a)}function da(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function r(a){return"number"==typeof a}function t(a){return"function"==ca(a)}function ea(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;
function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function v(a,b,c){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return v.apply(null,arguments)}
function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function w(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ke=function(a,c,g){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return b.prototype[c].apply(a,h)}};function x(a){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}w(x,Error);x.prototype.name="CustomError";var ma;function na(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}var pa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
function qa(a){if(!ra.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(sa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(ta,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(ua,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(va,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(wa,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(xa,"\x26#0;"));return a}
var sa=/&/g,ta=/</g,ua=/>/g,va=/"/g,wa=/'/g,xa=/\x00/g,ra=/[\x00&<>"']/,ya=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function za(a,b){a=l(2)?a.toFixed(2):String(a);var c=a.indexOf(".");-1==c&&(c=a.length);return ya("0",Math.max(0,b-c))+a}function Aa(a){return Array.prototype.join.call(arguments,"")}function Ba(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}
function Ca(a,b){return a<b?-1:a>b?1:0}function Da(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function Ea(a){var b=q(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function Fa(a,b){b.unshift(a);x.call(this,na.apply(null,b));b.shift()}w(Fa,x);Fa.prototype.name="AssertionError";function Ga(a,b){throw new Fa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Ia(a){return a[a.length-1]}
var Ja=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ka=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(q(a))return q(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=
c;c--)if(c in a&&a[c]===b)return c;return-1},y=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function La(a,b){for(var c=q(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}
var Ma=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=q(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var u=h[m];b.call(c,u,m,a)&&(e[g++]=u)}return e},Na=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=q(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},z=Array.prototype.reduce?function(a,b,c,d){d&&(b=v(b,d));return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c,d){var e=c;y(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Oa=Array.prototype.reduceRight?function(a,b,c,d){d&&(b=v(b,d));return Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;La(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Pa=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1},Qa=Array.prototype.every?function(a,
b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};function Ra(a,b){b=Sa(a,b,void 0);return 0>b?null:q(a)?a.charAt(b):a[b]}function Sa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Ta(a,b){0<=Ja(a,b)||a.push(b)}function Ua(a,b,c){var d;2==arguments.length||0>(d=Ja(a,c))?a.push(b):Va(a,d,0,b)}
function Wa(a,b){b=Ja(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Xa(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(da(d)){var e=a.length||0,g=d.length||0;a.length=e+g;for(var h=0;h<g;h++)a[e+h]=d[h]}else a.push(d)}}
function Va(a,b,c,d){Array.prototype.splice.apply(a,$a(arguments,1))}function $a(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function ab(a,b){a.sort(b||bb)}function bb(a,b){return a>b?1:a<b?-1:0}function cb(a){var b=db(),c={};y(a,function(d,e){c[b.call(void 0,d,e,a)]=d});return c};var eb;a:{var fb=k.navigator;if(fb){var gb=fb.userAgent;if(gb){eb=gb;break a}}eb=""}function A(a){return-1!=eb.indexOf(a)};function jb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function kb(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d}function lb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function mb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function nb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ob(){var a=pb,b;for(b in a)return!1;return!0}function qb(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}
function B(a,b,c){return null!==a&&b in a?a[b]:c}var rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<rb.length;g++)c=rb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var tb=A("Opera"),C=A("Trident")||A("MSIE"),wb=A("Edge"),xb=A("Gecko")&&!(-1!=eb.toLowerCase().indexOf("webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),yb=-1!=eb.toLowerCase().indexOf("webkit")&&!A("Edge");function zb(){var a=k.document;return a?a.documentMode:void 0}var Ab;
a:{var Bb="",Cb=function(){var a=eb;if(xb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(wb)return/Edge\/([\d\.]+)/.exec(a);if(C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(yb)return/WebKit\/(\S+)/.exec(a);if(tb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Cb&&(Bb=Cb?Cb[1]:"");if(C){var Db=zb();if(null!=Db&&Db>parseFloat(Bb)){Ab=String(Db);break a}}Ab=Bb}var Eb={};
function D(a){var b;if(!(b=Eb[a])){b=0;for(var c=pa(String(Ab)).split("."),d=pa(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",m=d[g]||"",u=/(\d*)(\D*)/g,ub=/(\d*)(\D*)/g;do{var vb=u.exec(h)||["","",""],oa=ub.exec(m)||["","",""];if(0==vb[0].length&&0==oa[0].length)break;b=Ca(0==vb[1].length?0:parseInt(vb[1],10),0==oa[1].length?0:parseInt(oa[1],10))||Ca(0==vb[2].length,0==oa[2].length)||Ca(vb[2],oa[2])}while(0==b)}b=Eb[a]=0<=b}return b}
var Fb=k.document,Gb=Fb&&C?zb()||("CSS1Compat"==Fb.compatMode?parseInt(Ab,10):5):void 0;var Hb=!C||9<=Number(Gb),Ib=!xb&&!C||C&&9<=Number(Gb)||xb&&D("1.9.1"),Jb=C&&!D("9"),Kb=C||tb||yb;function Lb(a,b){this.width=a;this.height=b}f=Lb.prototype;f.clone=function(){return new Lb(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
f.scale=function(a,b){b=r(b)?b:a;this.width*=a;this.height*=b;return this};function Mb(a){return a?new Nb(Ob(a)):ma||(ma=new Nb)}function Pb(a,b){return q(b)?a.getElementById(b):b}
function Qb(a,b,c,d){a=d||a;var e=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(e||c))return a.querySelectorAll(e+(c?"."+c:""));if(c&&a.getElementsByClassName){b=a.getElementsByClassName(c);if(e){a={};for(var g=d=0,h;h=b[g];g++)e==h.nodeName&&(a[d++]=h);a.length=d;return a}return b}b=a.getElementsByTagName(e||"*");if(c){a={};for(g=d=0;h=b[g];g++){var e=h.className,m;if(m="function"==typeof e.split)m=0<=Ja(e.split(/\s+/),c);m&&(a[d++]=h)}a.length=d;return a}return b}
function Rb(a,b){jb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Sb.hasOwnProperty(d)?a.setAttribute(Sb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Sb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function E(a,b,c){return Tb(document,arguments)}function Tb(a,b){var c=String(b[0]),d=b[1];if(!Hb&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',qa(d.name),'"');if(d.type){c.push(' type\x3d"',qa(d.type),'"');var e={};sb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(q(d)?c.className=d:p(d)?c.className=d.join(" "):Rb(c,d));2<b.length&&Ub(a,c,b,2);return c}
function Ub(a,b,c,d){function e(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];if(!da(g)||ea(g)&&0<g.nodeType)e(g);else{var h;a:{if(g&&"number"==typeof g.length){if(ea(g)){h="function"==typeof g.item||"string"==typeof g.item;break a}if(t(g)){h="function"==typeof g.item;break a}}h=!1}y(h?Ya(g):g,e)}}}function Vb(a,b){Ub(Ob(a),a,arguments,1)}function Wb(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function Xb(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Ob(a){return 9==a.nodeType?a:a.ownerDocument||a.document}var Yb={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Zb={IMG:" ",BR:"\n"};function $b(a){if(Jb&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];ac(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Jb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function ac(a,b,c){if(!(a.nodeName in Yb))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Zb)b.push(Zb[a.nodeName]);else for(a=a.firstChild;a;)ac(a,b,c),a=a.nextSibling}function Nb(a){this.I=a||k.document||document}f=Nb.prototype;f.f=Mb;f.l=function(a){return Pb(this.I,a)};function bc(a,b){return Qb(a.I,"INPUT",null,b)}
f.oc=function(a,b){var c=(b=b||this.I)||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):Qb(document,"*",a,b)};f.nc=function(a,b){var c=(b=b||this.I)||document;return(c.getElementsByClassName?c.getElementsByClassName(a)[0]:c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Qb(document,"*",a,b)[0])||null};f.Qc=Rb;f.c=function(a,b,c){return Tb(this.I,arguments)};f.createElement=function(a){return this.I.createElement(String(a))};f.createTextNode=function(a){return this.I.createTextNode(String(a))};
f.appendChild=function(a,b){a.appendChild(b)};f.append=Vb;f.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};f.Lc=Wb;f.removeNode=Xb;
f.md=function(a){return Ib&&void 0!=a.children?a.children:Ma(a.childNodes,function(a){return 1==a.nodeType})};function cc(a){if(l(a.firstElementChild))a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}f.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};
function dc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Wb(a),a.appendChild(Ob(a).createTextNode(String(b)))};var F=ka(E,"DIV"),ec=ka(E,"SPAN"),fc=ka(E,"FORM"),gc=ka(E,"INPUT");function hc(a){var b=document,c=b.createDocumentFragment();a=a.split(/\r\n|\r|\n/g);var d=a.length-1;return c=z(a,function(a,c,h){a.appendChild(b.createTextNode(c));d!=h&&a.appendChild(document.createElement("BR"));return a},c)};function ic(){0!=jc&&(kc[fa(this)]=this);this.Qa=this.Qa;this.Gb=this.Gb}var jc=0,kc={};ic.prototype.Qa=!1;function lc(a){a.Qa||(a.Qa=!0,a.b(),0!=jc&&(a=fa(a),delete kc[a]))}ic.prototype.b=function(){if(this.Gb)for(;this.Gb.length;)this.Gb.shift()()};var mc=!C||9<=Number(Gb),nc=C&&!D("9");!yb||D("528");xb&&D("1.9b")||C&&D("8")||tb&&D("9.5")||yb&&D("528");xb&&!D("8")||C&&D("9");function G(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.xa=!1;this.Ld=!0}G.prototype.stopPropagation=function(){this.xa=!0};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ld=!1};function oc(a){oc[" "](a);return a}oc[" "]=n;function pc(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Sa=this.state=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(xb){var e;a:{try{oc(b.nodeName);e=!0;break a}catch(g){}e=
!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=yb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=yb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||
0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Sa=a;a.defaultPrevented&&this.preventDefault()}}w(pc,G);pc.prototype.stopPropagation=function(){pc.a.stopPropagation.call(this);this.Sa.stopPropagation?this.Sa.stopPropagation():this.Sa.cancelBubble=!0};
pc.prototype.preventDefault=function(){pc.a.preventDefault.call(this);var a=this.Sa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,nc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var qc="closure_listenable_"+(1E6*Math.random()|0);function rc(a){return!(!a||!a[qc])}var sc=0;function tc(a,b,c,d,e){this.listener=a;this.Ib=null;this.src=b;this.type=c;this.Na=!!d;this.ub=e;this.key=++sc;this.Ha=this.nb=!1}function uc(a){a.Ha=!0;a.listener=null;a.Ib=null;a.src=null;a.ub=null};function vc(a){this.src=a;this.J={};this.jb=0}f=vc.prototype;f.add=function(a,b,c,d,e){var g=a.toString();a=this.J[g];a||(a=this.J[g]=[],this.jb++);var h=wc(a,b,d,e);-1<h?(b=a[h],c||(b.nb=!1)):(b=new tc(b,this.src,g,!!d,e),b.nb=c,a.push(b));return b};f.remove=function(a,b,c,d){a=a.toString();if(!(a in this.J))return!1;var e=this.J[a];b=wc(e,b,c,d);return-1<b?(uc(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.J[a],this.jb--),!0):!1};
function xc(a,b){var c=b.type;c in a.J&&Wa(a.J[c],b)&&(uc(b),0==a.J[c].length&&(delete a.J[c],a.jb--))}f.Jb=function(a){a=a&&a.toString();var b=0,c;for(c in this.J)if(!a||c==a){for(var d=this.J[c],e=0;e<d.length;e++)++b,uc(d[e]);delete this.J[c];this.jb--}return b};f.Ua=function(a,b,c,d){a=this.J[a.toString()];var e=-1;a&&(e=wc(a,b,c,d));return-1<e?a[e]:null};
f.hasListener=function(a,b){var c=l(a),d=c?a.toString():"",e=l(b);return lb(this.J,function(a){for(var h=0;h<a.length;++h)if(!(c&&a[h].type!=d||e&&a[h].Na!=b))return!0;return!1})};function wc(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.Ha&&g.listener==b&&g.Na==!!c&&g.ub==d)return e}return-1};var yc="closure_lm_"+(1E6*Math.random()|0),zc={},Ac=0;function Bc(a,b,c,d,e){if(p(b)){for(var g=0;g<b.length;g++)Bc(a,b[g],c,d,e);return null}c=Cc(c);return rc(a)?a.v(b,c,d,e):Dc(a,b,c,!1,d,e)}
function Dc(a,b,c,d,e,g){if(!b)throw Error("Invalid event type");var h=!!e,m=Ec(a);m||(a[yc]=m=new vc(a));c=m.add(b,c,d,e,g);if(c.Ib)return c;d=Fc();c.Ib=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(Gc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Ac++;return c}
function Fc(){var a=Hc,b=mc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Ic(a,b,c,d,e){if(p(b)){for(var g=0;g<b.length;g++)Ic(a,b[g],c,d,e);return null}c=Cc(c);return rc(a)?a.Bb(b,c,d,e):Dc(a,b,c,!0,d,e)}function Jc(a,b,c,d,e){if(p(b))for(var g=0;g<b.length;g++)Jc(a,b[g],c,d,e);else c=Cc(c),rc(a)?a.Tb(b,c,d,e):a&&(a=Ec(a))&&(b=a.Ua(b,c,!!d,e))&&Kc(b)}
function Kc(a){if(r(a)||!a||a.Ha)return;var b=a.src;if(rc(b)){xc(b.$,a);return}var c=a.type,d=a.Ib;b.removeEventListener?b.removeEventListener(c,d,a.Na):b.detachEvent&&b.detachEvent(Gc(c),d);Ac--;(c=Ec(b))?(xc(c,a),0==c.jb&&(c.src=null,b[yc]=null)):uc(a)}function Gc(a){return a in zc?zc[a]:zc[a]="on"+a}function Lc(a,b,c,d){var e=!0;if(a=Ec(a))if(b=a.J[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.Na==c&&!g.Ha&&(g=Mc(g,d),e=e&&!1!==g)}return e}
function Mc(a,b){var c=a.listener,d=a.ub||a.src;a.nb&&Kc(a);return c.call(d,b)}
function Hc(a,b){if(a.Ha)return!0;if(!mc){if(!b)a:{b=["window","event"];for(var c=k,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new pc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.xa&&0<=e;e--){b.currentTarget=d[e];var g=Lc(d[e],a,!0,b),c=c&&g}for(e=0;!b.xa&&e<d.length;e++)b.currentTarget=
d[e],g=Lc(d[e],a,!1,b),c=c&&g}return c}return Mc(a,new pc(b,this))}function Ec(a){a=a[yc];return a instanceof vc?a:null}var Nc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Cc(a){if(t(a))return a;a[Nc]||(a[Nc]=function(b){return a.handleEvent(b)});return a[Nc]};function Oc(a){ic.call(this);this.Da=a;this.s={}}w(Oc,ic);var Pc=[];f=Oc.prototype;f.v=function(a,b,c,d){p(b)||(b&&(Pc[0]=b.toString()),b=Pc);for(var e=0;e<b.length;e++){var g=Bc(a,b[e],c||this.handleEvent,d||!1,this.Da||this);if(!g)break;this.s[g.key]=g}return this};f.Bb=function(a,b,c,d){return Qc(this,a,b,c,d)};function Qc(a,b,c,d,e,g){if(p(c))for(var h=0;h<c.length;h++)Qc(a,b,c[h],d,e,g);else{b=Ic(b,c,d||a.handleEvent,e,g||a.Da||a);if(!b)return a;a.s[b.key]=b}return a}
f.Tb=function(a,b,c,d,e){if(p(b))for(var g=0;g<b.length;g++)this.Tb(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.Da||this,c=Cc(c),d=!!d,b=rc(a)?a.Ua(b,c,d,e):a?(a=Ec(a))?a.Ua(b,c,d,e):null:null,b&&(Kc(b),delete this.s[b.key]);return this};f.Jb=function(){jb(this.s,function(a,b){this.s.hasOwnProperty(b)&&Kc(a)},this);this.s={}};f.b=function(){Oc.a.b.call(this);this.Jb()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function H(){ic.call(this);this.$=new vc(this);this.Yd=this;this.Hb=null}w(H,ic);H.prototype[qc]=!0;f=H.prototype;f.Ka=function(a){this.Hb=a};f.addEventListener=function(a,b,c,d){Bc(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){Jc(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Hb;if(c)for(b=[];c;c=c.Hb)b.push(c);var c=this.Yd,d=a.type||a;if(q(a))a=new G(a,c);else if(a instanceof G)a.target=a.target||c;else{var e=a;a=new G(d,c);sb(a,e)}var e=!0,g;if(b)for(var h=b.length-1;!a.xa&&0<=h;h--)g=a.currentTarget=b[h],e=Rc(g,d,!0,a)&&e;a.xa||(g=a.currentTarget=c,e=Rc(g,d,!0,a)&&e,a.xa||(e=Rc(g,d,!1,a)&&e));if(b)for(h=0;!a.xa&&h<b.length;h++)g=a.currentTarget=b[h],e=Rc(g,d,!1,a)&&e;return e};
f.b=function(){H.a.b.call(this);this.$&&this.$.Jb(void 0);this.Hb=null};f.v=function(a,b,c,d){return this.$.add(String(a),b,!1,c,d)};f.Bb=function(a,b,c,d){return this.$.add(String(a),b,!0,c,d)};f.Tb=function(a,b,c,d){return this.$.remove(String(a),b,c,d)};function Rc(a,b,c,d){b=a.$.J[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.Ha&&h.Na==c){var m=h.listener,u=h.ub||h.src;h.nb&&xc(a.$,h);e=!1!==m.call(u,d)&&e}}return e&&0!=d.Ld}
f.Ua=function(a,b,c,d){return this.$.Ua(String(a),b,c,d)};f.hasListener=function(a,b){return this.$.hasListener(l(a)?String(a):void 0,b)};function Sc(a,b,c){if(q(b))(b=Tc(a,b))&&(a.style[b]=c);else for(var d in b){c=a;var e=b[d],g=Tc(c,d);g&&(c.style[g]=e)}}var Uc={};function Tc(a,b){var c=Uc[b];if(!c){var d=Da(b),c=d;void 0===a.style[d]&&(d=(yb?"Webkit":xb?"Moz":C?"ms":tb?"O":null)+Ea(d),void 0!==a.style[d]&&(c=d));Uc[b]=c}return c}
function Vc(a){var b=Wc,c;a:{c=Ob(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c.display||c.getPropertyValue("display")||"";break a}c=""}if("none"!=(c||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display))return b(a);c=a.style;var d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=e;return a}
function Wc(a){var b=a.offsetWidth,c=a.offsetHeight,d=yb&&!b&&!c;if((!l(b)||d)&&a.getBoundingClientRect){var e;a:{try{e=a.getBoundingClientRect()}catch(g){e={left:0,top:0,right:0,bottom:0};break a}C&&a.ownerDocument.body&&(a=a.ownerDocument,e.left-=a.documentElement.clientLeft+a.body.clientLeft,e.top-=a.documentElement.clientTop+a.body.clientTop)}return new Lb(e.right-e.left,e.bottom-e.top)}return new Lb(b,c)}
function Xc(a,b){a=a.style;"opacity"in a?a.opacity=b:"MozOpacity"in a?a.MozOpacity=b:"filter"in a&&(a.filter=""===b?"":"alpha(opacity\x3d"+100*Number(b)+")")};function Yc(){}ba(Yc);Yc.prototype.ye=0;function I(a){H.call(this);this.Ra=a||Mb();this.u=null;this.R=!1;this.i=null;this.oa=void 0;this.la=this.A=this.m=null;this.He=!1}w(I,H);f=I.prototype;f.pe=Yc.o();f.L=function(){return this.u||(this.u=":"+(this.pe.ye++).toString(36))};f.l=function(){return this.i};f.oc=function(a){return this.i?this.Ra.oc(a,this.i):[]};f.nc=function(a){return this.i?this.Ra.nc(a,this.i):null};function J(a){a.oa||(a.oa=new Oc(a));return a.oa}
function Zc(a,b){if(a==b)throw Error("Unable to set parent component");if(b&&a.m&&a.u&&$c(a.m,a.u)&&a.m!=b)throw Error("Unable to set parent component");a.m=b;I.a.Ka.call(a,b)}f.getParent=function(){return this.m};f.Ka=function(a){if(this.m&&this.m!=a)throw Error("Method not supported");I.a.Ka.call(this,a)};f.f=function(){return this.Ra};f.c=function(){this.i=this.Ra.createElement("DIV")};
function ad(a,b,c){if(a.R)throw Error("Component already rendered");a.i||a.c();b?b.insertBefore(a.i,c||null):a.Ra.I.body.appendChild(a.i);a.m&&!a.m.R||a.h()}f.h=function(){this.R=!0;bd(this,function(a){!a.R&&a.l()&&a.h()})};f.C=function(){bd(this,function(a){a.R&&a.C()});this.oa&&this.oa.Jb();this.R=!1};f.b=function(){this.R&&this.C();this.oa&&(lc(this.oa),delete this.oa);bd(this,function(a){lc(a)});!this.He&&this.i&&Xb(this.i);this.m=this.i=this.la=this.A=null;I.a.b.call(this)};
function K(a,b,c){var d=a.A?a.A.length:0;if(b.R&&(c||!a.R))throw Error("Component already rendered");if(0>d||d>(a.A?a.A.length:0))throw Error("Child component index out of bounds");a.la&&a.A||(a.la={},a.A=[]);if(b.getParent()==a){var e=b.L();a.la[e]=b;Wa(a.A,b)}else qb(a.la,b.L(),b);Zc(b,a);Va(a.A,d,0,b);b.R&&a.R&&b.getParent()==a?(a=a.H(),d=a.childNodes[d]||null,d!=b.l()&&a.insertBefore(b.l(),d)):c?(a.i||a.c(),d=a.A?a.A[d+1]||null:null,ad(b,a.H(),d?d.i:null)):a.R&&!b.R&&b.i&&b.i.parentNode&&1==b.i.parentNode.nodeType&&
b.h()}f.H=function(){return this.i};function $c(a,b){return a.la&&b?B(a.la,b)||null:null}function bd(a,b,c){a.A&&y(a.A,b,c)}f.removeChild=function(a,b){if(a){var c=q(a)?a:a.L();a=$c(this,c);if(c&&a){var d=this.la;c in d&&delete d[c];Wa(this.A,a);b&&(a.C(),a.i&&Xb(a.i));Zc(a,null)}}if(!a)throw Error("Child is not in parent component");return a};f.Lc=function(a){for(var b=[];this.A&&0!=this.A.length;)b.push(this.removeChild(this.A?this.A[0]||null:null,a));return b};function cd(a){var b=document,c=b.createElement("STYLE");c.type="text/css";b.getElementsByTagName("HEAD")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a))};function L(a,b){this.Ya=a;this.Ud=b}L.prototype.getKey=function(){return this.Ya};L.prototype.O=function(){return this.Ud};L.prototype.clone=function(){return new L(this.Ya,this.Ud)};function dd(a,b){I.call(this,a);this.Tc=b||[];this.ud="topicLink"}w(dd,I);f=dd.prototype;f.c=function(){cd('ol.topicPath {margin:10px 0;text-align:left;padding-left:10px;}ol.topicPath li {display:inline;line-height:110%;list-style-type:none;}ol.topicPath li a:after {content:" \x3e ";}');var a=this.f(),b=F(["topicPath"]),c=a.c("OL",["topicPath"]),d=a.c("HR",["line_dot_black","w420"]);a.append(b,c,d);d=ed(this,this.Tc);a.append(c,d);this.i=b};
function ed(a,b){var c=a.f();return z(b,function(a,b,g,h){var m=c.c("LI");h.length-1===g?c.append(m,b.O()):(b=c.c("A",this.ud,b.O()),c.Qc(b,{href:"#"}),J(this).v(b,"click",this.ob),c.append(m,b));c.append(a,m);return a},c.I.createDocumentFragment(),a)}f.ob=function(a){a.stopPropagation();var b=$b(a.target);a=this.Tc;var c=Sa(a,function(a){return a.O()===b?!0:!1});a=$a(a,0,c+1);fd(this,a);this.dispatchEvent(new G("PAGECHANGE",a))};
function fd(a,b){a.Tc=b;var c=a.f(),d=cc(a.l());y(a.oc(a.ud),function(a){J(this).Tb(a,"click",this.ob)},a);c.Lc(d);c.append(d,ed(a,b))}f.h=function(){dd.a.h.call(this)};f.C=function(){dd.a.C.call(this)};f.b=function(){dd.a.b.call(this)};function gd(){H.call(this);this.w=hd;this.endTime=this.startTime=null}w(gd,H);var hd=0;gd.prototype.fa=function(){this.Z("begin")};gd.prototype.qa=function(){this.Z("end")};gd.prototype.Z=function(a){this.dispatchEvent(a)};function M(a){return function(){return a}}var id=M(!1),jd=M(!0),kd=M(null);function ld(a){return a}function db(){return function(){return arguments[1]}};function md(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function nd(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function od(a,b,c){this.te=c;this.ge=a;this.Be=b;this.Fb=0;this.Y=null}od.prototype.get=function(){var a;0<this.Fb?(this.Fb--,a=this.Y,this.Y=a.next,a.next=null):a=this.ge();return a};od.prototype.put=function(a){this.Be(a);this.Fb<this.te&&(this.Fb++,a.next=this.Y,this.Y=a)};function pd(){this.Wb=this.La=null}var rd=new od(function(){return new qd},function(a){a.reset()},100);pd.prototype.add=function(a,b){var c=rd.get();c.set(a,b);this.Wb?this.Wb.next=c:this.La=c;this.Wb=c};pd.prototype.remove=function(){var a=null;this.La&&(a=this.La,this.La=this.La.next,this.La||(this.Wb=null),a.next=null);return a};function qd(){this.next=this.scope=this.ic=null}qd.prototype.set=function(a,b){this.ic=a;this.scope=b;this.next=null};
qd.prototype.reset=function(){this.next=this.scope=this.ic=null};function sd(a){k.setTimeout(function(){throw a;},0)}var td;
function ud(){var a=k.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!A("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=v(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!A("Trident")&&!A("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(l(c.next)){c=c.next;var a=c.ad;c.ad=null;a()}};return function(a){d.next={ad:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};function vd(a,b){wd||xd();yd||(wd(),yd=!0);zd.add(a,b)}var wd;function xd(){if(k.Promise&&k.Promise.resolve){var a=k.Promise.resolve(void 0);wd=function(){a.then(Ad)}}else wd=function(){var a=Ad;!t(k.setImmediate)||k.Window&&k.Window.prototype&&!A("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(td||(td=ud()),td(a)):k.setImmediate(a)}}var yd=!1,zd=new pd;function Ad(){for(var a;a=zd.remove();){try{a.ic.call(a.scope)}catch(b){sd(b)}rd.put(a)}yd=!1};function Bd(a,b){this.w=Cd;this.ga=void 0;this.Ba=this.ka=this.m=null;this.tb=this.gc=!1;if(a!=n)try{var c=this;a.call(b,function(a){Dd(c,Ed,a)},function(a){if(!(a instanceof Fd))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}Dd(c,Gd,a)})}catch(d){Dd(this,Gd,d)}}var Cd=0,Ed=2,Gd=3;function Hd(){this.next=this.context=this.Fa=this.bb=this.ta=null;this.mb=!1}Hd.prototype.reset=function(){this.context=this.Fa=this.bb=this.ta=null;this.mb=!1};
var Id=new od(function(){return new Hd},function(a){a.reset()},100);function Jd(a,b,c){var d=Id.get();d.bb=a;d.Fa=b;d.context=c;return d}Bd.prototype.then=function(a,b,c){return Kd(this,t(a)?a:null,t(b)?b:null,c)};md(Bd);Bd.prototype.cancel=function(a){this.w==Cd&&vd(function(){var b=new Fd(a);Ld(this,b)},this)};
function Ld(a,b){if(a.w==Cd)if(a.m){var c=a.m;if(c.ka){for(var d=0,e=null,g=null,h=c.ka;h&&(h.mb||(d++,h.ta==a&&(e=h),!(e&&1<d)));h=h.next)e||(g=h);e&&(c.w==Cd&&1==d?Ld(c,b):(g?(d=g,d.next==c.Ba&&(c.Ba=d),d.next=d.next.next):Md(c),Nd(c,e,Gd,b)))}a.m=null}else Dd(a,Gd,b)}function Od(a,b){a.ka||a.w!=Ed&&a.w!=Gd||Pd(a);a.Ba?a.Ba.next=b:a.ka=b;a.Ba=b}
function Kd(a,b,c,d){var e=Jd(null,null,null);e.ta=new Bd(function(a,h){e.bb=b?function(c){try{var e=b.call(d,c);a(e)}catch(ub){h(ub)}}:a;e.Fa=c?function(b){try{var e=c.call(d,b);!l(e)&&b instanceof Fd?h(b):a(e)}catch(ub){h(ub)}}:h});e.ta.m=a;Od(a,e);return e.ta}Bd.prototype.Fe=function(a){this.w=Cd;Dd(this,Ed,a)};Bd.prototype.Ge=function(a){this.w=Cd;Dd(this,Gd,a)};
function Dd(a,b,c){if(a.w==Cd){a===c&&(b=Gd,c=new TypeError("Promise cannot resolve to itself"));a.w=1;var d;a:{var e=c,g=a.Fe,h=a.Ge;if(e instanceof Bd)Od(e,Jd(g||n,h||null,a)),d=!0;else if(nd(e))e.then(g,h,a),d=!0;else{if(ea(e))try{var m=e.then;if(t(m)){Qd(e,m,g,h,a);d=!0;break a}}catch(u){h.call(a,u);d=!0;break a}d=!1}}d||(a.ga=c,a.w=b,a.m=null,Pd(a),b!=Gd||c instanceof Fd||Rd(a,c))}}
function Qd(a,b,c,d,e){function g(a){m||(m=!0,d.call(e,a))}function h(a){m||(m=!0,c.call(e,a))}var m=!1;try{b.call(a,h,g)}catch(u){g(u)}}function Pd(a){a.gc||(a.gc=!0,vd(a.ne,a))}function Md(a){var b=null;a.ka&&(b=a.ka,a.ka=b.next,b.next=null);a.ka||(a.Ba=null);return b}Bd.prototype.ne=function(){for(var a;a=Md(this);)Nd(this,a,this.w,this.ga);this.gc=!1};
function Nd(a,b,c,d){if(c==Gd&&b.Fa&&!b.mb)for(;a&&a.tb;a=a.m)a.tb=!1;if(b.ta)b.ta.m=null,Sd(b,c,d);else try{b.mb?b.bb.call(b.context):Sd(b,c,d)}catch(e){Td.call(null,e)}Id.put(b)}function Sd(a,b,c){b==Ed?a.bb.call(a.context,c):a.Fa&&a.Fa.call(a.context,c)}function Rd(a,b){a.tb=!0;vd(function(){a.tb&&Td.call(null,b)})}var Td=sd;function Fd(a){x.call(this,a)}w(Fd,x);Fd.prototype.name="cancel";function Ud(a,b,c){if(t(a))c&&(a=v(a,c));else if(a&&"function"==typeof a.handleEvent)a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:k.setTimeout(a,b||0)};function Vd(a,b,c){ic.call(this);this.zc=a;this.qe=b||0;this.Da=c;this.de=v(this.ke,this)}w(Vd,ic);f=Vd.prototype;f.u=0;f.b=function(){Vd.a.b.call(this);this.stop();delete this.zc;delete this.Da};f.start=function(a){this.stop();this.u=Ud(this.de,l(a)?a:this.qe)};f.stop=function(){this.uc()&&k.clearTimeout(this.u);this.u=0};f.uc=function(){return 0!=this.u};f.ke=function(){this.u=0;this.zc&&this.zc.call(this.Da)};var pb={},Wd=null;function Xd(a){a=fa(a);delete pb[a];ob()&&Wd&&Wd.stop()}function Yd(){Wd||(Wd=new Vd(function(){Zd()},20));var a=Wd;a.uc()||a.start()}function Zd(){var a=la();jb(pb,function(b){$d(b,a)});ob()||Yd()};function ae(a,b,c,d){gd.call(this);if(!p(a)||!p(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.fb=a;this.me=b;this.duration=c;this.Wc=d;this.coords=[];this.X=0}w(ae,gd);f=ae.prototype;
f.play=function(a){if(a||this.w==hd)this.X=0,this.coords=this.fb;else if(1==this.w)return!1;Xd(this);this.startTime=a=la();-1==this.w&&(this.startTime-=this.duration*this.X);this.endTime=this.startTime+this.duration;this.X||this.fa();this.Z("play");-1==this.w&&this.Z("resume");this.w=1;var b=fa(this);b in pb||(pb[b]=this);Yd();$d(this,a);return!0};f.stop=function(a){Xd(this);this.w=hd;a&&(this.X=1);be(this,this.X);this.Z("stop");this.qa()};f.pause=function(){1==this.w&&(Xd(this),this.w=-1,this.Z("pause"))};
f.b=function(){this.w==hd||this.stop(!1);this.Z("destroy");ae.a.b.call(this)};function $d(a,b){a.X=(b-a.startTime)/(a.endTime-a.startTime);1<=a.X&&(a.X=1);be(a,a.X);1==a.X?(a.w=hd,Xd(a),a.Z("finish"),a.qa()):1==a.w&&a.Gc()}function be(a,b){t(a.Wc)&&(b=a.Wc(b));a.coords=Array(a.fb.length);for(var c=0;c<a.fb.length;c++)a.coords[c]=(a.me[c]-a.fb[c])*b+a.fb[c]}f.Gc=function(){this.Z("animate")};f.Z=function(a){this.dispatchEvent(new ce(a,this))};
function ce(a,b){G.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.X=b.X;this.state=b.w}w(ce,G);function N(a,b,c,d,e){ae.call(this,b,c,d,e);this.element=a}w(N,ae);N.prototype.kb=n;N.prototype.Gc=function(){this.kb();N.a.Gc.call(this)};N.prototype.qa=function(){this.kb();N.a.qa.call(this)};N.prototype.fa=function(){this.kb();N.a.fa.call(this)};function de(a,b,c,d,e){N.call(this,a,[b],[c],d,e)}w(de,N);de.prototype.kb=function(){this.element.style.height=Math.round(this.coords[0])+"px"};
function O(a,b,c,d,e){r(b)&&(b=[b]);r(c)&&(c=[c]);N.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.zb=ee}w(O,N);var fe=1/1024,ee=-1;O.prototype.kb=function(){var a=this.coords[0];Math.abs(a-this.zb)>=fe&&(Xc(this.element,a),this.zb=a)};O.prototype.fa=function(){this.zb=ee;O.a.fa.call(this)};O.prototype.qa=function(){this.zb=ee;O.a.qa.call(this)};O.prototype.show=function(){this.element.style.display=""};
function ge(a,b,c){O.call(this,a,1,0,b,c)}w(ge,O);ge.prototype.fa=function(){this.show();ge.a.fa.call(this)};ge.prototype.qa=function(){this.element.style.display="none";ge.a.qa.call(this)};function he(a,b,c){O.call(this,a,0,1,b,c)}w(he,O);he.prototype.fa=function(){this.show();he.a.fa.call(this)};function P(a){I.call(this,a);this.ba=this.G=null;J(this).v(this,"PAGECHANGED",this.Id);J(this).v(this,"PAGECHANGE",this.Hd,!0)}w(P,I);f=P.prototype;f.ya=function(a){this.G=a};f.H=function(){return null!=this.G?this.G:this.l()};function ie(a){a.dispatchEvent(new G("PAGECHANGED",[]))}f.Id=function(a){null!=this.ba&&Ua(a.target,this.ba)};f.Hd=function(){};
function je(a,b,c,d,e){var g=g||n,h;h=r(d)?d:500;p(b)||(b=[b]);p(c)||(c=[c]);b=z(b,function(a,b){Ta(a,new ge(b,h));return a},[]);var m=z(c,function(a,b){b=new he(b,h);b.element.style.display="none";Ta(a,b);return a},[]);c=Ia(m);J(a).Bb(Ia(b),"end",function(){y(m,function(a){a.play()})});J(a).Bb(c,"end",g,e);y(b,function(a){a.play()})}f.b=function(){this.ba=null;P.a.b.call(this)};function ke(){this.ac=this.Uc=this.Hc=this.Cc=this.mc=this.Ac=null}ba(ke);function le(a){null===a.mc&&(a.mc=new L("FRIENDVS","フレンドVS"));return a.mc}function me(a){null===a.Hc&&(a.Hc=new L("PLAYERDATA","プレイヤーデータ(仮)"));return a.Hc}function ne(a){null===a.Uc&&(a.Uc=new L("TROPHY","称号(仮)"));return a.Uc}function oe(a){null===a.ac&&(a.ac=new L("CHUNIVIEWER","ChuniViewer"));return a.ac}function pe(a){null===a.Cc&&(a.Cc=new L("MENU","MENU"));return a.Cc}
ke.prototype.rb=function(a,b){null!=this[a]||(this[a]=new L(a,b))};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function qe(a,b){this.Nb=[];this.Dd=a;this.ed=b||null;this.Wa=this.Ca=!1;this.ga=void 0;this.Rc=this.$d=this.Zb=!1;this.Sb=0;this.m=null;this.$b=0}qe.prototype.cancel=function(a){if(this.Ca)this.ga instanceof qe&&this.ga.cancel();else{if(this.m){var b=this.m;delete this.m;a?b.cancel(a):(b.$b--,0>=b.$b&&b.cancel())}this.Dd?this.Dd.call(this.ed,this):this.Rc=!0;this.Ca||(a=new re,se(this),te(this,!1,a))}};qe.prototype.cd=function(a,b){this.Zb=!1;te(this,a,b)};
function te(a,b,c){a.Ca=!0;a.ga=c;a.Wa=!b;ue(a)}function se(a){if(a.Ca){if(!a.Rc)throw new ve;a.Rc=!1}}function we(a,b,c){a.Nb.push([b,c,void 0]);a.Ca&&ue(a)}qe.prototype.then=function(a,b,c){var d,e,g=new Bd(function(a,b){d=a;e=b});we(this,d,function(a){a instanceof re?g.cancel():e(a)});return g.then(a,b,c)};md(qe);function xe(a){return Pa(a.Nb,function(a){return t(a[1])})}
function ue(a){if(a.Sb&&a.Ca&&xe(a)){var b=a.Sb,c=ye[b];c&&(k.clearTimeout(c.u),delete ye[b]);a.Sb=0}a.m&&(a.m.$b--,delete a.m);for(var b=a.ga,d=c=!1;a.Nb.length&&!a.Zb;){var e=a.Nb.shift(),g=e[0],h=e[1],e=e[2];if(g=a.Wa?h:g)try{var m=g.call(e||a.ed,b);l(m)&&(a.Wa=a.Wa&&(m==b||m instanceof Error),a.ga=b=m);if(nd(b)||"function"===typeof k.Promise&&b instanceof k.Promise)d=!0,a.Zb=!0}catch(u){b=u,a.Wa=!0,xe(a)||(c=!0)}}a.ga=b;d&&(m=v(a.cd,a,!0),d=v(a.cd,a,!1),b instanceof qe?(we(b,m,d),b.$d=!0):b.then(m,
d));c&&(b=new ze(b),ye[b.u]=b,a.Sb=b.u)}function ve(){x.call(this)}w(ve,x);ve.prototype.message="Deferred has already fired";ve.prototype.name="AlreadyCalledError";function re(){x.call(this)}w(re,x);re.prototype.message="Deferred was canceled";re.prototype.name="CanceledError";function ze(a){this.u=k.setTimeout(v(this.De,this),0);this.qb=a}ze.prototype.De=function(){delete ye[this.u];throw this.qb;};var ye={};function Ae(a,b){var c=b||{};b=c.document||document;var d=document.createElement("SCRIPT"),e={Nd:d,hb:void 0},g=new qe(Be,e),h=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(h=window.setTimeout(function(){Ce(d,!0);var b=new De(Ee,"Timeout reached for loading script "+a);se(g);te(g,!1,b)},m),e.hb=h);d.onload=d.onreadystatechange=function(){d.readyState&&"loaded"!=d.readyState&&"complete"!=d.readyState||(Ce(d,c.Le||!1,h),se(g),te(g,!0,null))};d.onerror=function(){Ce(d,!0,h);var b=new De(Fe,"Error while loading script "+
a);se(g);te(g,!1,b)};e=c.attributes||{};sb(e,{type:"text/javascript",charset:"UTF-8",src:a});Rb(d,e);Ge(b).appendChild(d);return g}function Ge(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function Be(){if(this&&this.Nd){var a=this.Nd;a&&"SCRIPT"==a.tagName&&Ce(a,!0,this.hb)}}function Ce(a,b,c){null!=c&&k.clearTimeout(c);a.onload=n;a.onerror=n;a.onreadystatechange=n;b&&window.setTimeout(function(){Xb(a)},0)}var Fe=0,Ee=1;
function De(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);x.call(this,c);this.code=a}w(De,x);var He="StopIteration"in k?k.StopIteration:{message:"StopIteration",stack:""};function Ie(){}Ie.prototype.next=function(){throw He;};Ie.prototype.sa=function(){return this};function Je(a){if(a instanceof Ie)return a;if("function"==typeof a.sa)return a.sa(!1);if(da(a)){var b=0,c=new Ie;c.next=function(){for(;;){if(b>=a.length)throw He;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Ke(a,b){if(da(a))try{y(a,b,void 0)}catch(c){if(c!==He)throw c;}else{a=Je(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==He)throw c;}}}function Le(a){if(da(a))return Ya(a);a=Je(a);var b=[];Ke(a,function(a){b.push(a)});return b};function Q(a,b){this.W={};this.s=[];this.lb=this.va=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}f=Q.prototype;f.T=function(){return this.va};f.P=function(){Me(this);for(var a=[],b=0;b<this.s.length;b++)a.push(this.W[this.s[b]]);return a};f.ma=function(){Me(this);return this.s.concat()};f.bd=function(a){return Ne(this.W,a)};
f.clear=function(){this.W={};this.lb=this.va=this.s.length=0};f.remove=function(a){return Ne(this.W,a)?(delete this.W[a],this.va--,this.lb++,this.s.length>2*this.va&&Me(this),!0):!1};function Me(a){if(a.va!=a.s.length){for(var b=0,c=0;b<a.s.length;){var d=a.s[b];Ne(a.W,d)&&(a.s[c++]=d);b++}a.s.length=c}if(a.va!=a.s.length){for(var e={},c=b=0;b<a.s.length;)d=a.s[b],Ne(e,d)||(a.s[c++]=d,e[d]=1),b++;a.s.length=c}}f.get=function(a,b){return Ne(this.W,a)?this.W[a]:b};
f.set=function(a,b){Ne(this.W,a)||(this.va++,this.s.push(a),this.lb++);this.W[a]=b};f.addAll=function(a){var b;a instanceof Q?(b=a.ma(),a=a.P()):(b=nb(a),a=mb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.forEach=function(a,b){for(var c=this.ma(),d=0;d<c.length;d++){var e=c[d],g=this.get(e);a.call(b,g,e,this)}};f.clone=function(){return new Q(this)};function Oe(a){Me(a);for(var b={},c=0;c<a.s.length;c++){var d=a.s[c];b[d]=a.W[d]}return b}
f.sa=function(a){Me(this);var b=0,c=this.lb,d=this,e=new Ie;e.next=function(){if(c!=d.lb)throw Error("The map has changed since the iterator was created");if(b>=d.s.length)throw He;var e=d.s[b++];return a?e:d.W[e]};return e};function Ne(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Pe(a){var b=a.type;if(!l(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:null;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return l(a.value)?a.value:null}};function Qe(a){P.call(this,a);a=ke.o();this.yc=[me(a),le(a)];this.wc=[ne(a)];this.xc=[new L(this.fe,"ChuniViewer(本家)"),oe(a),new L(this.ce,"Rate Calculator"),new L(this.ee,"RateAnalyzer")];this.td=Xa(this.yc,this.wc,this.xc);this.ba=pe(a)}w(Qe,P);f=Qe.prototype;
f.c=function(){var a=this.f(),b=F(["text_b","mt_5"],"ver."+Re),b=F(["box05","w420"],b),c=Se(this,"sitemap_btn_record",this.yc),d=Se(this,"sitemap_btn_collection",this.wc),e=Se(this,"sitemap_btn_worldsend",this.xc);a.append(b,c,d,e);this.i=b};function Se(a,b,c){a.f();b=F(b);var d=F("sitemap_link");z(c,function(a,b){this.f().append(a,Te(this,b));return a},d,a);return F("sitemap",b,d)}
function Te(a,b){var c=a.f(),d=t(b.getKey()),e=c.c("A",{href:"#"},b.O());d||c.Qc(e,{"data-key":b.getKey()});J(a).v(e,"click",d?b.getKey():a.ue);return c.c("P",null,e)}f.ue=function(a){a.stopPropagation();var b=a.target.getAttribute("data-key");a=Ra(this.td,function(a){return b===a.getKey()?!0:!1});this.dispatchEvent(new G("PAGECHANGE",[a]))};f.h=function(){Qe.a.h.call(this);ie(this)};f.b=function(){this.xc=this.wc=this.yc=this.td=null;Qe.a.b.call(this)};
f.ce=function(){var a=E("INPUT",{"type:":"hidden",name:"userid",value:document.cookie}),a=E("FORM",{method:"post",action:"//chunical.net/chunithm.api",id:"postjump",target:"_blank"},a);Vb(document.body,a);a.submit();var b;a:{if(Kb&&!(C&&D("9")&&!D("10")&&k.SVGElement&&a instanceof k.SVGElement)&&(b=a.parentElement))break a;b=a.parentNode;b=ea(b)&&1==b.nodeType?b:null}b.removeChild(a)};f.fe=ka(Ae,"//ciao-chuniviewer.ssl-lolipop.jp/chuniviewer/www/js/getMusicScore.js?110");f.ee=ka(Ae,"//zk-phi.github.io/CHUNITHMRateAnalyzer/chunithm.js");function Ue(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Ve(a){var b=[];We(new Xe,a,b);return b.join("")}function Xe(){this.Kb=void 0}
function We(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(p(b)){var d=b;b=d.length;c.push("[");for(var e="",g=0;g<b;g++)c.push(e),e=d[g],We(a,a.Kb?a.Kb.call(d,String(g),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");g="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(g),Ye(d,c),c.push(":"),We(a,a.Kb?a.Kb.call(b,d,e):e,c),g=","));c.push("}");return}}switch(typeof b){case "string":Ye(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var Ze={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},$e=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Ye(a,b){b.push('"',a.replace($e,function(a){var b=Ze[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Ze[a]=b);return b}),'"')};function af(a){if(a.P&&"function"==typeof a.P)return a.P();if(q(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return mb(a)}function bf(a){if(a.ma&&"function"==typeof a.ma)return a.ma();if(!a.P||"function"!=typeof a.P){if(da(a)||q(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return nb(a)}}
function cf(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(da(a)||q(a))y(a,b,void 0);else for(var c=bf(a),d=af(a),e=d.length,g=0;g<e;g++)b.call(void 0,d[g],c&&c[g],a)}function df(a,b){if("function"==typeof a.map)return a.map(b,void 0);if(da(a)||q(a))return Na(a,b,void 0);var c,d=bf(a),e=af(a),g=e.length;if(d){c={};for(var h=0;h<g;h++)c[d[h]]=b.call(void 0,e[h],d[h],a)}else for(c=[],h=0;h<g;h++)c[h]=b.call(void 0,e[h],void 0,a);return c};function ef(a,b,c,d,e){this.reset(a,b,c,d,e)}ef.prototype.gd=null;var ff=0;ef.prototype.reset=function(a,b,c,d,e){"number"==typeof e||ff++;d||la();this.Za=a;this.we=b;delete this.gd};ef.prototype.Od=function(a){this.Za=a};function gf(a){this.Cd=a;this.od=this.A=this.Za=this.m=null}function hf(a,b){this.name=a;this.value=b}hf.prototype.toString=function(){return this.name};var jf=new hf("SEVERE",1E3),kf=new hf("INFO",800),lf=new hf("CONFIG",700),mf=new hf("FINE",500);f=gf.prototype;f.getName=function(){return this.Cd};f.getParent=function(){return this.m};f.md=function(){this.A||(this.A={});return this.A};f.Od=function(a){this.Za=a};
function nf(a){if(a.Za)return a.Za;if(a.m)return nf(a.m);Ga("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=nf(this).value)for(t(b)&&(b=b()),a=new ef(a,String(b),this.Cd),c&&(a.gd=c),c="log:"+a.we,k.console&&(k.console.timeStamp?k.console.timeStamp(c):k.console.markTimeline&&k.console.markTimeline(c)),k.msWriteProfilerMark&&k.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.od)for(var e=0,g;g=b.od[e];e++)g(d);c=c.getParent()}};f.info=function(a,b){this.log(kf,a,b)};
var of={},pf=null;function qf(a){pf||(pf=new gf(""),of[""]=pf,pf.Od(lf));var b;if(!(b=of[a])){b=new gf(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=qf(a.substr(0,c));c.md()[d]=b;b.m=c;of[a]=b}return b};function R(a,b){a&&a.log(mf,b,void 0)};function rf(){}rf.prototype.$c=null;function sf(a){var b;(b=a.$c)||(b={},tf(a)&&(b[0]=!0,b[1]=!0),b=a.$c=b);return b};var uf;function vf(){}w(vf,rf);function wf(a){return(a=tf(a))?new ActiveXObject(a):new XMLHttpRequest}function tf(a){if(!a.qd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.qd=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.qd}uf=new vf;var xf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function yf(a){H.call(this);this.headers=new Q;this.Yb=a||null;this.ia=!1;this.Xb=this.g=null;this.pa=this.sd=this.Ab="";this.wa=this.tc=this.vb=this.fc=!1;this.gb=0;this.Qb=null;this.Mb=zf;this.Ub=this.Ae=this.Xd=!1}w(yf,H);var zf="",Af=yf.prototype,Bf=qf("goog.net.XhrIo");Af.U=Bf;var Cf=/^https?$/i,Df=["POST","PUT"];f=yf.prototype;
f.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Ab+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Ab=a;this.pa="";this.sd=b;this.fc=!1;this.ia=!0;this.g=this.Yb?wf(this.Yb):wf(uf);this.Xb=this.Yb?sf(this.Yb):sf(uf);this.g.onreadystatechange=v(this.Fd,this);this.Ae&&"onprogress"in this.g&&(this.g.onprogress=v(function(a){this.Ed(a,!0)},this),this.g.upload&&(this.g.upload.onprogress=v(this.Ed,this)));try{R(this.U,Ef(this,"Opening Xhr")),
this.tc=!0,this.g.open(b,String(a),!0),this.tc=!1}catch(g){R(this.U,Ef(this,"Error opening Xhr: "+g.message));this.qb(5,g);return}a=c||"";var e=this.headers.clone();d&&cf(d,function(a,b){e.set(b,a)});d=Ra(e.ma(),Ff);c=k.FormData&&a instanceof k.FormData;!(0<=Ja(Df,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(a,b){this.g.setRequestHeader(b,a)},this);this.Mb&&(this.g.responseType=this.Mb);"withCredentials"in this.g&&this.g.withCredentials!==
this.Xd&&(this.g.withCredentials=this.Xd);try{Gf(this),0<this.gb&&(this.Ub=Hf(this.g),R(this.U,Ef(this,"Will abort after "+this.gb+"ms if incomplete, xhr2 "+this.Ub)),this.Ub?(this.g.timeout=this.gb,this.g.ontimeout=v(this.hb,this)):this.Qb=Ud(this.hb,this.gb,this)),R(this.U,Ef(this,"Sending request")),this.vb=!0,this.g.send(a),this.vb=!1}catch(g){R(this.U,Ef(this,"Send error: "+g.message)),this.qb(5,g)}};function Hf(a){return C&&D(9)&&r(a.timeout)&&l(a.ontimeout)}
function Ff(a){return"content-type"==a.toLowerCase()}f.hb=function(){"undefined"!=typeof aa&&this.g&&(this.pa="Timed out after "+this.gb+"ms, aborting",R(this.U,Ef(this,this.pa)),this.dispatchEvent("timeout"),this.abort(8))};f.qb=function(a,b){this.ia=!1;this.g&&(this.wa=!0,this.g.abort(),this.wa=!1);this.pa=b;If(this);Jf(this)};function If(a){a.fc||(a.fc=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
f.abort=function(){this.g&&this.ia&&(R(this.U,Ef(this,"Aborting")),this.ia=!1,this.wa=!0,this.g.abort(),this.wa=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Jf(this))};f.b=function(){this.g&&(this.ia&&(this.ia=!1,this.wa=!0,this.g.abort(),this.wa=!1),Jf(this,!0));yf.a.b.call(this)};f.Fd=function(){this.Qa||(this.tc||this.vb||this.wa?Kf(this):this.ze())};f.ze=function(){Kf(this)};
function Kf(a){if(a.ia&&"undefined"!=typeof aa)if(a.Xb[1]&&4==Lf(a)&&2==Mf(a))R(a.U,Ef(a,"Local request error detected and ignored"));else if(a.vb&&4==Lf(a))Ud(a.Fd,0,a);else if(a.dispatchEvent("readystatechange"),4==Lf(a)){R(a.U,Ef(a,"Request complete"));a.ia=!1;try{var b=Mf(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var g=String(a.Ab).match(xf)[1]||null;if(!g&&k.self&&k.self.location)var h=k.self.location.protocol,
g=h.substr(0,h.length-1);e=!Cf.test(g?g.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var m;try{m=2<Lf(a)?a.g.statusText:""}catch(u){R(a.U,"Can not get status: "+u.message),m=""}a.pa=m+" ["+Mf(a)+"]";If(a)}}finally{Jf(a)}}}f.Ed=function(a,b){this.dispatchEvent(Nf(a,"progress"));this.dispatchEvent(Nf(a,b?"downloadprogress":"uploadprogress"))};function Nf(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function Jf(a,b){if(a.g){Gf(a);var c=a.g,d=a.Xb[0]?n:null;a.g=null;a.Xb=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(a=a.U)&&a.log(jf,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Gf(a){a.g&&a.Ub&&(a.g.ontimeout=null);r(a.Qb)&&(k.clearTimeout(a.Qb),a.Qb=null)}f.uc=function(){return!!this.g};function Lf(a){return a.g?a.g.readyState:0}function Mf(a){try{return 2<Lf(a)?a.g.status:-1}catch(b){return-1}}
function Of(a){if(a.g)return Ue(a.g.responseText)}function Pf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.Mb){case zf:case "text":return a.g.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}var b=a.U;b&&b.log(jf,"Response type "+a.Mb+" is not supported on this browser",void 0);return null}catch(c){return R(a.U,"Can not get response: "+c.message),null}}
f.getResponseHeader=function(a){return this.g&&4==Lf(this)?this.g.getResponseHeader(a):void 0};f.getAllResponseHeaders=function(){return this.g&&4==Lf(this)?this.g.getAllResponseHeaders():""};function Ef(a,b){return b+" ["+a.sd+" "+a.Ab+" "+Mf(a)+"]"};function Qf(){yf.call(this);this.Lb=this.cb=null;this.v("complete",this.bc,!1,this)}w(Qf,yf);f=Qf.prototype;f.set=function(a,b,c,d){this.cb=[a,b,c,d]};f.send=function(a){this.pb(this.cb);Qf.a.send.apply(this,null===this.cb?arguments:this.cb)};f.bc=function(a){a=a.target;this.Lb=Pf(a);Rf(this,a,this.Lb)};f.pb=function(a){this.dispatchEvent(new G("SI",a))};function Rf(a,b,c){a.dispatchEvent(new G("CI",c));a.dispatchEvent(new G("CI_",b))}f.getData=function(){return this.Lb};
f.b=function(){this.Lb=this.cb=null;Qf.a.b.call(this)};var Sf={basic:0,advanced:1,expert:2,expart:2,master:3,worldsend:4},Tf=["basic","advanced","expert","master","worldsend"],Uf=["basic","advanced","expart","master","worldsend"],Vf=[99,0,2,3,6,1,7,8,5],Wf={99:"全ジャンル",0:"POPS \x26 ANIME",2:"niconico",3:"東方Project",6:"VARIETY",1:"GAME",7:"イロドリミドリ",8:"言ノ葉Project",5:"ORIGINAL"};function Xf(){Q.call(this)}w(Xf,Q);Xf.prototype.Va=n;Xf.prototype.V=n;Xf.prototype.import=function(a){this.addAll(a)};Xf.prototype.hc=function(){return Oe(this)};function Yf(a,b){return Zf(a,$a(arguments,1))}function $f(a,b,c){var d=3>=arguments.length?a:Zf(a,$a(arguments,2,-1)),e=Ia(arguments);if(t(b)){var g=b(B(d,e));d[e]=g}else d[e]=b}function Zf(a,b){return z(b,function(a,b){return null!=a?a[b]:null},a)};function ag(a){this.I=a||{cookie:""}}var bg=/\s*;\s*/;f=ag.prototype;f.isEnabled=function(){return navigator.cookieEnabled};
f.set=function(a,b,c,d,e,g){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');l(c)||(c=-1);e=e?";domain\x3d"+e:"";d=d?";path\x3d"+d:"";g=g?";secure":"";c=0>c?"":0==c?";expires\x3d"+(new Date(1970,1,1)).toUTCString():";expires\x3d"+(new Date(la()+1E3*c)).toUTCString();this.I.cookie=a+"\x3d"+b+e+d+c+g};
f.get=function(a,b){for(var c=a+"\x3d",d=(this.I.cookie||"").split(bg),e=0,g;g=d[e];e++){if(0==g.lastIndexOf(c,0))return g.substr(c.length);if(g==a)return""}return b};f.remove=function(a,b,c){var d=this.bd(a);this.set(a,"",0,b,c);return d};f.ma=function(){return cg(this).keys};f.P=function(){return cg(this).values};f.T=function(){return this.I.cookie?(this.I.cookie||"").split(bg).length:0};f.bd=function(a){return l(this.get(a))};f.clear=function(){for(var a=cg(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
function cg(a){a=(a.I.cookie||"").split(bg);for(var b=[],c=[],d,e,g=0;e=a[g];g++)d=e.indexOf("\x3d"),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var dg=new ag("undefined"==typeof document?null:document);dg.Je=3950;function S(a){Q.call(this);this.set(eg,a)}w(S,Xf);var eg="id";function fg(a){var b="//chunithm-net.com/ChuniNet/";a=a.N();return null!=a?b+a:null}f=S.prototype;f.N=n;f.Va=function(){return this.N()};f.V=jd;f.F=function(a){var b={};b.userId=dg.get("userId",null);null!=a&&(b[a]=this.L());return b};f.za=function(a,b){b=r(b)?b:la();this.set("setdate",b);this.set("origindata",a)};f.j=function(a){var b=[this.get("origindata")];Za(b,arguments);return Yf.apply(this,b)};f.L=function(){return this.get(eg)};function gg(a){Qf.call(this);this.ja=null;a&&this.set(a)}w(gg,Qf);f=gg.prototype;f.set=function(a){this.ja=a};f.send=function(){gg.a.send.call(this,fg(this.ja),"POST",Ve(this.ja.F()))};f.bc=function(a){a=a.target;var b=Of(a);dg.set("userId",b.userId);a.ja.za(b);Rf(this,a,a.ja)};f.pb=function(){gg.a.pb.call(this,this.ja)};f.getData=function(){return this.ja};f.b=function(){this.ja=null;gg.a.b.call(this)};function hg(a){gg.call(this,a)}w(hg,gg);hg.prototype.send=function(){this.pb();this.dispatchEvent(new G("complete",this))};hg.prototype.bc=function(a){a=a.target;Rf(this,a,a.getData())};function ig(){this.aa=[];this.ea=[]}f=ig.prototype;f.enqueue=function(a){this.ea.push(a)};function jg(a){0==a.aa.length&&(a.aa=a.ea,a.aa.reverse(),a.ea=[]);return a.aa.pop()}f.T=function(){return this.aa.length+this.ea.length};f.clear=function(){this.aa=[];this.ea=[]};f.contains=function(a){return 0<=Ja(this.aa,a)||0<=Ja(this.ea,a)};f.remove=function(a){var b;b=this.aa;var c=Ka(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Wa(this.ea,a)};
f.P=function(){for(var a=[],b=this.aa.length-1;0<=b;--b)a.push(this.aa[b]);for(var c=this.ea.length,b=0;b<c;++b)a.push(this.ea[b]);return a};function kg(){H.call(this);this.K=new ig;this.S=new ig;this.Ja=null;this.v("CI_",this.se,!1,this)}w(kg,H);f=kg.prototype;f.send=function(){var a=new G("SG",this.getData());this.dispatchEvent(a);0===this.K.T()?(a=new G("CG",this.getData()),this.dispatchEvent(a),this.dispatchEvent(new G("CG_",this))):null===this.Ja&&(this.Ja=jg(this.K),this.Ja.send())};f.add=function(a){a.Ka(this);this.K.enqueue(a)};f.remove=function(a){return this.K.remove(a)||this.S.remove(a)};
f.se=function(){this.S.enqueue(this.Ja);this.Ja=null;this.send()};f.getData=function(){var a=[];Za(a,this.K.P(),this.S.P());return Na(a,function(a){return a.getData()})};f.T=function(){return this.S.T()+this.K.T()};f.b=function(){var a=Xa(this.K.P(),this.S.P());y(a,function(a){lc(a)});this.K.clear();this.S.clear();this.Ja=this.S=this.K=null;kg.a.b.call(this)};function lg(){H.call(this);this.K=new ig;this.S=new ig;this.Ia=null;this.v("CG_",this.oe,!1,this)}w(lg,H);lg.prototype.send=function(){0===this.K.T()?(this.dispatchEvent(new G("CA",this)),mg(this)):null===this.Ia&&(this.Ia=jg(this.K),this.Ia.send())};lg.prototype.add=function(a){if(a instanceof kg)a.Ka(this),this.K.enqueue(a);else{var b=new kg;b.add(a);this.add(b)}};lg.prototype.remove=function(a){return this.K.remove(a)||this.S.remove(a)};
lg.prototype.oe=function(){this.S.enqueue(this.Ia);this.Ia=null;this.send()};function mg(a){var b=Xa(a.K.P(),a.S.P());y(b,function(a){lc(a)});a.K.clear();a.S.clear();a.Ia=null};function ng(a){this.Cb=a}ng.prototype.set=function(a,b){l(b)?this.Cb.set(a,Ve(b)):this.Cb.remove(a)};ng.prototype.get=function(a){var b;try{b=this.Cb.get(a)}catch(c){return}if(null!==b)try{return Ue(b)}catch(c){throw"Storage: Invalid value was encountered";}};ng.prototype.remove=function(a){this.Cb.remove(a)};function og(){};function pg(){}w(pg,og);pg.prototype.T=function(){var a=0;Ke(this.sa(!0),function(){a++});return a};pg.prototype.clear=function(){var a=Le(this.sa(!0)),b=this;y(a,function(a){b.remove(a)})};function qg(a){this.B=a}w(qg,pg);f=qg.prototype;f.wb=function(){if(!this.B)return!1;try{return this.B.setItem("__sak","1"),this.B.removeItem("__sak"),!0}catch(a){return!1}};f.set=function(a,b){try{this.B.setItem(a,b)}catch(c){if(0==this.B.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};f.get=function(a){a=this.B.getItem(a);if(!q(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};f.remove=function(a){this.B.removeItem(a)};
f.T=function(){return this.B.length};f.sa=function(a){var b=0,c=this.B,d=new Ie;d.next=function(){if(b>=c.length)throw He;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!q(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};f.clear=function(){this.B.clear()};f.key=function(a){return this.B.key(a)};function rg(){var a=null;try{a=window.localStorage||null}catch(b){}this.B=a}w(rg,qg);function sg(a,b){this.Ob=a;this.M=null;if(C&&!(9<=Number(Gb))){tg||(tg=new Q);this.M=tg.get(a);this.M||(b?this.M=document.getElementById(b):(this.M=document.createElement("userdata"),this.M.addBehavior("#default#userData"),document.body.appendChild(this.M)),tg.set(a,this.M));try{this.M.load(this.Ob)}catch(c){this.M=null}}}w(sg,pg);var ug={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},tg=null;
function vg(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return ug[a]})}f=sg.prototype;f.wb=function(){return!!this.M};f.set=function(a,b){this.M.setAttribute(vg(a),b);wg(this)};f.get=function(a){a=this.M.getAttribute(vg(a));if(!q(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};f.remove=function(a){this.M.removeAttribute(vg(a));wg(this)};f.T=function(){return this.rb().attributes.length};
f.sa=function(a){var b=0,c=this.rb().attributes,d=new Ie;d.next=function(){if(b>=c.length)throw He;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!q(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};f.clear=function(){for(var a=this.rb(),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);wg(this)};function wg(a){try{a.M.save(a.Ob)}catch(b){throw"Storage mechanism: Quota exceeded";}}f.rb=function(){return this.M.XMLDocument.documentElement};function xg(){this.Ea=this.Aa=null;var a;a=new rg;(a=a.wb()?a:null)||(a=new sg("UserDataSharedStore"),a=a.wb()?a:null);this.xd=a;null!==a&&(this.Aa=new ng(a))}ba(xg);f=xg.prototype;f.wb=function(){return null!==this.Aa};f.Pc=function(a){this.Ea=a};f.get=function(a,b){a=String(a);return yg(this,(this.Ea||"")+a,b)};function yg(a,b,c){a=a.Aa.get(b,c);return null!=a?a:c}f.getDate=function(a){a=String(a);a=yg(this,(this.Ea||"")+a+"_date",null);return null!=a?new Date(a):null};
f.set=function(a,b){a=String(a);var c=this.Ea||"";this.Aa.set(c+a+"_date",Date.now());return this.Aa.set(c+a,b)};f.ma=function(){for(var a=this.xd.T(),b=this.Ea||"",c=[],d=0;d<a;d++){var e=this.xd.key(d);if(0==e.lastIndexOf(b,0)){var g=b.length,h=e;0<e.length&&0<g&&(h=e.substr(0,0)+e.substr(0+g,e.length-0-g));e=h;0==e.lastIndexOf("_date",0)||Ta(c,e)}}return c};f.remove=function(a){a=String(a);var b=this.Ea||"";this.Aa.remove(b+"_date"+a);return this.Aa.remove(b+a)};function T(a,b){Q.call(this);this.re=a;this.Ob=b;this.D=new Q}w(T,Xf);T.prototype.Va=function(){return this.Ob};T.prototype.import=function(a,b){if(null!=a){var c=b||this.re;b=B(a,"option");jb(B(a,"items"),function(a,b){var g=this.nd(c,a);g.import(a);this.set(b,g)},this);this.D.clear();this.D.addAll(b)}};T.prototype.nd=function(a){return new a};T.prototype.hc=function(){return{items:df(this,function(a){return a instanceof Xf?a.hc():a}),option:Oe(this.D)}};function zg(){this.map=new Q;this.cache=xg.o()}ba(zg);zg.prototype.get=function(a,b){if(a instanceof S)return this.get(a.Va(),a.V()?void 0:a.L());a=this.map.get(a,null);null!=b&&a instanceof T&&(a=a.get(b,null));return a};zg.prototype.set=function(a){var b=a.Va();if(a instanceof T||a.V())this.map.set(b,a);else{var c=this.map.get(b,null);null===c&&(c=new T(null,b));c.set(a.L(),a);this.map.set(b,c)}};zg.prototype.Pc=function(a){this.cache.Pc(a)};
function Ag(a,b){b=new b;var c=a.cache.get(b.Va());b.import(c);a.set(b)}zg.prototype.save=function(a){var b=this.get(a);this.cache.set(a,b.hc())};function U(){this.Xc=new lg;this.B=zg.o()}ba(U);U.prototype.update=function(a,b,c,d){l(d)||(d=!1);var e=!1,g;a instanceof S?(g=[a],"GetUserInfoApi"==a.N()&&(e=!0)):p(a)&&(g=a);a=Bg(this,g,d);e&&Cg(this,a);Dg(this,a,b,null,c);b=d?a.getData():g;y(b,function(a){this.B.set(a)},this);this.Xc.add(a);this.Xc.send();return a};function Eg(a,b,c,d){a.update(b,c,d,!0)}
function Bg(a,b,c){l(c)||(c=!1);p(b)||(b=[b]);var d=new kg;y(b,function(a){var b;if(c){var h=this.B.get(a);null!=h&&(b=new hg(h))}null!=b||(b=new gg(a));d.add(b)},a);return d}function Dg(a,b,c,d,e){t(c)&&(d=d||(1<b.T()?"CG":"CI"),b.v(d,c,!1,e||a))}function Cg(a,b){Dg(a,b,function(a){a=a.target.j("userInfo","userName");this.B.Pc("chu2_"+a+"_")})};function Fg(a){null!=a||(a=Gg);S.call(this,a)}w(Fg,S);var Gg=3;Fg.prototype.N=M("GetUserFriendlistApi");Fg.prototype.V=id;Fg.prototype.F=function(){return Fg.a.F.call(this,"state")};function Hg(a){S.call(this,a)}w(Hg,S);Hg.prototype.N=M("GetUserFriendNameApi");Hg.prototype.V=id;Hg.prototype.F=function(){return Hg.a.F.call(this,"friendCode")};Hg.prototype.za=function(a){$f(a,Ig,"friendName");Hg.a.za.call(this,a)};function V(a){I.call(this,a);this.yb=!1;this.G=null}w(V,I);f=V.prototype;f.O=kd;f.eb=n;f.ya=function(a){this.G=a};f.H=function(){return null!=this.G?this.G:this.l()};f.h=function(){V.a.h.call(this);if(this.yb){var a=E("HR",["line_dot_black","w388"]);Vb(this.l(),a);this.Oc=a}};f.C=function(){null!=this.Oc&&Xb(this.Oc);V.a.C.call(this)};f.b=function(){V.a.b.call(this);this.G=this.Oc=this.yb=null};function Jg(a){V.call(this,a);this.jc={}}w(Jg,V);Jg.prototype.c=function(){var a=this.f(),b=a.createElement("FORM");a.Qc(b,{onsubmit:"return false"});bd(this,function(c){c.c();a.appendChild(b,c.l())});this.i=b};function W(a,b,c){K(a,c);qb(a.jc,b,c)}function Kg(a){var b={};jb(a.jc,function(a,d){b[d]=a.O()});return b};function Lg(a){V.call(this,a);this.Pa=2;this.Oa=[];this.ec=["basic","advanced","expart","master"];this.dc="_on"}w(Lg,V);f=Lg.prototype;f.c=function(){this.f();var a=F(["difficulty_btn_block"]);z(this.ec,function(a,c,d){c=F("btn_"+c+(this.Pa===d?this.dc:""));Ta(this.Oa,c);c=F("difficulty_btn",c);Vb(a,c);return a},a,this);this.i=a};f.h=function(){Lg.a.h.call(this);y(this.Oa,function(a){J(this).v(a,"click",this.ob)},this)};
f.ob=function(a){a.stopPropagation();var b=a.target;y(this.Oa,function(a,d){a==b&&this.eb(d)},this)};f.O=function(){return this.Pa};f.eb=function(a){this.Pa!=a&&(this.R&&y(this.Oa,function(b,c){b.className="btn_"+this.ec[c]+(c==a?this.dc:"")},this),this.Pa=a)};f.b=function(){Lg.a.b.call(this);this.dc=this.ec=this.Oa=this.Pa=null};function Mg(a,b,c){V.call(this,a);this.Vd=b||Ng;this.Kc=c||Og}w(Mg,V);var Ng=0,Og=1;f=Mg.prototype;f.c=function(){this.i=this.f().createElement("DIV")};f.h=function(){Mg.a.h.call(this);if(2!==this.Kc){var a=U.o(),b=new Fg;Eg(a,b,function(a){this.sc(a.target)},this)}};f.H=function(){return this.nc("friendList")};f.O=function(){var a=bc(this.f(),this.l());return z(a,function(a,c){c=Pe(c);null!=c&&Ta(a,c);return a},[])};
function Pg(a){var b=a.f(),c=a.l();null!=a.H()&&Wb(c);a=b.c(a.Vd===Ng?"OL":"SELECT","friendList");b.append(c,a)}f.sc=function(a){a=a.j("userFriendlistList");this.Kc===Og&&(a=Ma(a,function(a){return a.isFavorite}));ab(a,function(a,c){return a.orderId-c.orderId});a=Na(a,function(a){return new Hg(a.friendCode)});Eg(U.o(),a,function(a){this.pc(a.target)},this)};
f.pc=function(a){Pg(this);y(a,function(a){var c=this.f(),d=this.H(),e=a.j("friendCode"),g=c.c("INPUT",{type:"checkbox",name:"friend",id:e,value:e});a=c.c("LABEL",{"for":e},a.j("friendName"));a.className="checkbox";g=c.c("LI",null,g,a);c.append(d,g)},this)};f.remove=function(){};f.C=function(){Mg.a.C.call(this)};f.b=function(){Mg.a.b.call(this);this.Kc=this.Vd=null};function X(a,b){V.call(this,a);this.ca=b}w(X,V);X.prototype.c=function(){var a=this.f(),b;switch(this.ca){case "reset":case "exit":b=F("btn_back");break;case "battle":b=F("btn_battle");break;case "ok":b=a.c("H2",{id:"page_title"},"OK"),Sc(b,"width","100px")}this.i=b};X.prototype.h=function(){X.a.h.call(this);var a=this.l();J(this).v(a,"click",this.ae,this)};
X.prototype.ae=function(){var a="exit"===this.ca?"exit":"submit";switch(this.ca){case "reset":a="reset";break;case "exit":a="exit";break;case "battle":case "ok":a="submit"}this.dispatchEvent(new G(a,this.ca))};X.prototype.b=function(){X.a.b.call(this);this.ca=null};function Qg(a,b,c,d,e){V.call(this,a);this.ca=b;this.Gd=c||"";this.he=null!=e?e:!1;this.u=null!=d?d:Ba()}w(Qg,V);Qg.prototype.c=function(){var a=this.f(),b=F();switch(this.ca){case "check":var c=gc({type:"checkbox",name:"toggle",id:this.u,value:this.u});this.he?c.checked="checked":c.removeAttribute("checked");var d=a.c("LABEL",{"for":this.u},this.Gd);d.className="checkbox";a.append(b,c,d);this.ya(c)}this.i=b};Qg.prototype.O=function(){switch(this.ca){case "check":return this.H().checked}};
Qg.prototype.b=function(){Qg.a.b.call(this);this.u=this.Gd=this.ca=null};function Rg(a,b){"boolean"==typeof b||(b=!1);return(0<=a&&b?"+":"")+String(a).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}function Ig(a){return a.replace(/[！-～]/g,function(a){return String.fromCharCode(a.charCodeAt(0)-65248)}).replace(/”/g,'"').replace(/’/g,"'").replace(/‘/g,"`").replace(/￥/g,"\\").replace(/　/g," ").replace(/〜/g,"~")}function Sg(a){var b;b=Number(a);b=0==b&&/^[\s\xa0]*$/.test(a)?NaN:b;return r(b)?b:a};function Tg(a,b,c,d){V.call(this,a);this.Xa=p(c)?cb(c):c;this.Pd=d||null;this.Rb=b;this.u=Ba()}w(Tg,V);Tg.prototype.c=function(){var a=this.f(),b=F("option_setting_text",this.Rb),a=a.c("SELECT",{id:this.u,name:this.u});this.ya(a);Ug(this);a=F("option_setting_block_select",a);b=F("option_setting_block",b,a);this.i=F([],b)};function Vg(a,b,c){a.Xa=p(b)?cb(b):b;a.Pd=c||null;Ug(a)}
function Ug(a){var b=a.f(),c=a.H();b.Lc(c);var d=a.Xa;y(a.Pd||nb(d),function(a){a=b.c("OPTION",{value:a},d[a]);Vb(c,a)},a)}Tg.prototype.O=function(){var a=this.H().value;return Sg(a)};Tg.prototype.b=function(){Tg.a.b.call(this);this.u=this.Rb=this.Xa=null};function Wg(a){Jg.call(this,a);W(this,"dif",new Lg(a));W(this,"target",new Tg(a,"比較対象"));W(this,"sort",new Tg(a,"ソート",{0:"WIN",1:"DRAW",2:"LOSE",3:"スコア",4:"スコア差"}));W(this,"score",new Tg(a,"フィルタ",{0:"なし",1:"MAX",2:"WIN",3:"WIN\x26DRAW(MAX)",4:"WIN\x26DRAW"}));W(this,"genre",new Tg(a,"ジャンル",Wf,Vf));var b=new Qg(a,"check","未プレイ除外");b.yb=!0;W(this,"nonplay",b);W(this,"friend",new Mg(a));W(this,"submit",new X(a,"battle"))}w(Wg,Jg);
Wg.prototype.h=function(){Wg.a.h.call(this);var a=U.o(),b=new Fg;Eg(a,b,function(a){this.sc(a.target)},this);J(this).v(this,"submit",this.ha)};Wg.prototype.ha=function(a){var b=Kg(this);0===B(b,"friend").length?(a.stopPropagation(),a.preventDefault()):(b.filter={nonplay:B(b,"nonplay"),score:B(b,"score")},"nonplay"in b&&delete b.nonplay,"score"in b&&delete b.score,a.target=b)};
Wg.prototype.sc=function(a){a=a.j("userFriendlistList");a=Ma(a,function(a){return a.isFavorite});ab(a,function(a,c){return a.orderId-c.orderId});a=Na(a,function(a){return new Hg(a.friendCode)});Eg(U.o(),a,function(a){this.pc(a.target)},this)};Wg.prototype.pc=function(a){var b=B(this.jc,"target"),c={0:""},d=[0];y(a,function(a){var b=a.L();a=a.j("friendName");c[b]=a;d.push(b)},this);Vg(b,c,d)};function Y(a,b){this.hd=a;this.je=b;S.call(this,(null!=a?a:"")+"_"+b);this.Db=this.Bd=null}w(Y,S);f=Y.prototype;f.N=M("GetUserMusicApi");f.V=id;f.F=function(){var a=Y.a.F.call(this);a.level=19900+parseInt(this.je,10);a.isStatus=!0;null!=this.hd&&(a.friendCode=this.hd);return a};f.qc=function(a){var b=this.Db;if(null==b){var b=this.j("musicNameMap"),c={},d;for(d in b)c[b[d]]=d;this.Db=b=c}a=parseInt(B(b,a),10);return Number.isNaN(a)?null:a};f.rc=function(a){return this.j("musicNameMap")[a]};
function Xg(a,b){return B(a.na(),b)}f.na=function(){var a=this.j("userMusicList");if(null===a)return a;var b=this.Bd;if(null!=b)return b;this.Bd=b={};y(a,function(a){b[B(a,"musicId")]=a});return b};f.za=function(a){"userName"in a&&$f(a,Ig,"userName");Y.a.za.call(this,a)};function Yg(a,b){var c=Zg,d=$g,e=ah;a>b?e=c:b>a&&(e=d);return e};function bh(a,b,c){I.call(this,a);var d=0,e=0,g=0;y(b,function(a){a=ch(a);if(!1===a.filter[c])switch(a.Zc[c]){case Zg:d++;break;case $g:g++;break;case ah:e++}});this.Ie=d;this.le=e;this.ve=g;this.Ce=Yg(d,g);a=b[0];this.ab=a.ab;this.kd=a.jd[c]}w(bh,I);var Zg="win",$g="lose",ah="draw";
bh.prototype.c=function(){this.f();var a=F("vs_result_record",na("%s勝　%s敗　%s分",this.Ie,this.ve,this.le)),b=F("friend_vs_result"),c=this.f(),d=F("friend_vs_infoblock");dh(this,d,this.ab);var e=F("friend_vs_resulticon_img",c.c("IMG",{src:Aa("common/images/icon_",this.Ce,".png")})),e=F("friend_vs_resulticon",e),g=F("friend_vs_infoblock");dh(this,g,this.kd);c.append(b,d,e,g);this.i=F("friend_vs_block",b,a)};
function dh(a,b,c){a=a.f();var d=F("friend_vs_name",c.j("userName"));c=F("friend_vs_chara",a.c("IMG",{src:c.j("characterFileName")}));Rb(c,{style:"background-image:url(common/images/charaframe_silver.png)"});a.append(b,d,c)}bh.prototype.b=function(){bh.a.b.call(this);this.kd=this.ab=null};function Z(a){I.call(this,a);this.da=this.G=this.Y=null;this.xb=!1;this.Ma=null}w(Z,I);f=Z.prototype;f.c=function(){var a=this.f();null==this.G&&(this.G=F());bd(this,function(b){b.c();a.appendChild(this.G,b.l())},this);var b=F(this.Ma,this.Y,this.G);this.xb&&(this.da=new X(a,"reset"),this.da.c(),a.appendChild(b,this.da.l()));this.i=b};f.h=function(){Z.a.h.call(this);this.da&&(this.da.h(),this.da.Ka(this))};f.ya=function(a){this.G=a};f.H=function(){return null!=this.G?this.G:this.l()};
f.b=function(){Z.a.b.call(this);this.da&&(lc(this.da),this.da=null);this.Ma=this.xb=this.G=this.Y=null};function eh(a,b,c){Z.call(this,a);this.xb=!0;y(B(c,"friend"),function(a,c){a=new bh(this.f(),b,c);K(this,a,!0)},this);this.Vb=b;this.D=c}w(eh,Z);eh.prototype.b=function(){eh.a.b.call(this);this.D=this.Vb=null};function fh(a,b,c,d){this.Ad=a;this.D=d;this.ab=b;this.jd=c;S.call(this,(null!=a?a:"")+"_"+B(d,"dif"));this.vc=this.Jc=null}w(fh,S);fh.prototype.N=function(){return"UserMusicSlice"};fh.prototype.V=id;fh.prototype.sb=function(){var a=B(this.D,"sort",null),b=ch(this);switch(a){case 0:a=b.Wd;break;case 1:a=b.fd;break;case 2:a=b.vd;break;case 3:a=b.Md;break;case 4:a=b.Nc;break;default:a=this.Ad}return a};
function gh(a,b){var c=null==b;if("boolean"==typeof a.vc&&c)return a.vc;var d=!1,e=ch(a);if(!c)return e.filter[b];b=B(a.D,"filter");c=B(b,"score");B(b,"nonplay")&&null==e.Eb?d=!0:0!==c&&(d=Qa(e.filter,ld));return a.vc=d}
function ch(a){if(null!=a.Jc)return a.Jc;var b=a.Ad,c=a.ab,d=a.jd,e=B(a.D,"filter"),g=B(e,"nonplay"),h=B(e,"score"),c={id:b,title:c.j("musicNameMap",b),ie:B(a.D,"dif"),Eb:Xg(c,b),lc:[],kc:[],Wd:0,fd:0,vd:0,Md:0,Nc:0,Zc:[],filter:[]},e=c.Eb,m=null!=e?B(e,"scoreMax",0):0,u=101E4===m?!0:!1;c.Md=m;z(d,function(a,c){var d=Xg(c,b),e=null!=d,hb=e?B(d,"scoreMax",0):0,Mh=101E4===hb?!0:!1;c=c.j("userName");var hb=m-hb,ib,Ha=!1;0===hb?(a.fd++,ib="draw"):0<hb?(a.Wd++,ib="win"):(a.vd++,ib="lose");g&&!e?Ha=!0:
1===h&&u?Ha=!0:2<=h&&"win"===ib?Ha=!0:"draw"===ib&&(3===h&&Mh?Ha=!0:4===h&&(Ha=!0));Ha||(a.Nc+=hb);a.Zc.push(ib);a.kc.push(d);a.lc.push(c);a.filter.push(Ha);return a},c);return a.Jc=c};function hh(a,b){I.call(this,a);this.Fc=b}w(hh,I);
hh.prototype.c=function(){function a(a,c,d){a=b(a);d=b(d);var e=r(c)?Rg(c,!0):"",g;r(c)&&(g=0>c?"vs_list_count_blue":"vs_list_count_red");c=F(g,e);c=F("vs_list_result",c);return F("vs_list_result_block",a,c,d)}function b(a){a=F(null!=a?"play_musicdata_highscore":null,r(a)?Rg(a):a||"");return F("vs_list_infoblock",a)}var c=this.Fc;if(gh(c))hh.a.c.call(this);else{var d=ch(c),e=this.f(),g=F(["block_underline","text_b"],F(null,d.title)),h=F(["w388","musiclist_"+Uf[d.ie]],g),m=null!=d.Eb?B(d.Eb,"scoreMax",
0):0,u=0;y(d.lc,function(b,g){if(!gh(c,g)){g=null!=d.kc[g]?B(d.kc[g],"scoreMax",0):0;var oa=m-g;u+=oa;b=a(b,oa,g);e.append(h,b)}});g=a(null,1===d.lc.length?null:u,m);h.insertBefore(g,h.childNodes[1]||null);this.i=h}};hh.prototype.sb=function(){return this.Fc.sb()};hh.prototype.b=function(){hh.a.b.call(this);this.Fc=null};function ih(a,b,c){Z.call(this,a);this.ld=c;ab(b,function(a,b){return b.sb()-a.sb()});y(b,function(a){a=new hh(this.f(),a);K(this,a)},this)}w(ih,Z);ih.prototype.c=function(){this.f();this.Ma=["box05","w400"];this.Y=F({id:"GenreName"},this.ld);ih.a.c.call(this)};ih.prototype.b=function(){ih.a.b.call(this);this.ld=null};function jh(a,b,c,d){Z.call(this,a);var e=[],g=B(d,"genre"),h=b.j("genreMap");a=Wf[g];jb(b.j("musicNameMap"),function(a,u){if(99===g||h[u]===g)a=new fh(u,b,c,d),e.push(a)});a=new ih(this.f(),e,a);K(this,a);this.Vb=e;this.D=d}w(jh,Z);jh.prototype.c=function(){var a=this.f();this.Ma=["box01","w420"];var b=B(this.D,"dif"),a=a.c("SPAN",null,Tf[b].toUpperCase());this.Y=F(["box01_title","title_"+Uf[b]],a);jh.a.c.call(this)};jh.prototype.b=function(){jh.a.b.call(this);this.D=this.Vb=null};function kh(a){P.call(this,a);this.D=null;this.ba=le(ke.o());this.ra=new Wg(a);K(this,this.ra);this.Ec=this.Pb=null}w(kh,P);f=kh.prototype;f.c=function(){var a=this.f(),b=F();bd(this,function(c){c.c();a.appendChild(b,c.l())});this.i=b};f.h=function(){kh.a.h.call(this);ie(this);J(this).v(this,"submit",this.ha);J(this).v(this,"reset",this.Mc)};
f.ha=function(a){var b=this.D=a.target,c=b.dif;a=b.friend;var d=b.target,b=U.o(),d=new Y(0===d?null:d,c);a=z(a,function(a,b){Ta(a,new Y(b,c));return a},[d]);b.update(a,this.xe,this)};f.xe=function(a){this.f();var b=a.target;a=b[0];b=$a(b,1);a=new jh(this.f(),a,b,this.D);b=a.Vb;this.Pb=b=new eh(this.f(),b,this.D);this.Ec=a;K(this,b,!0);K(this,a,!0);je(this,this.ra.l(),[this.Pb.l(),a.l()])};f.Mc=function(a){je(this,[this.Pb.l(),this.Ec.l()],this.ra.l(),null,this);a.stopPropagation();a.preventDefault()};
f.b=function(){kh.a.b.call(this);this.Ec=this.Pb=this.ra=this.D=null};function lh(a){S.call(this,a||0)}w(lh,S);lh.prototype.N=M("GetUserInfoApi");lh.prototype.F=function(){var a=lh.a.F.call(this);a.friendCode=this.L();a.fileLevel=0;return a};lh.prototype.za=function(a){$f(a,Ig,"userInfo","userName");lh.a.za.call(this,a)};function mh(a){null!=a||(a=0);S.call(this,a)}w(mh,S);mh.prototype.N=M("GetUserCommentApi");mh.prototype.V=id;mh.prototype.F=function(){return mh.a.F.call(this,"friendCode")};function nh(a){P.call(this,a);this.ba=me(ke.o())}w(nh,P);nh.prototype.c=function(){this.f();var a=fc();this.ya(a);a=F(["w420","box_player","clearfix"],a);this.i=F("mt_5",a)};
nh.prototype.h=function(){nh.a.h.call(this);var a=U.o(),b=new lh;Eg(a,b,function(a){var b=a.target,e=this.f();a=F("player_reborn",e.createTextNode(b.j("userInfo","reincarnationNum")));var e=F("player_lv",ec(["font_small","mr_5"],"Lv."),ec(null,e.createTextNode(b.j("userInfo","level")))),g=ec("ml_10",b.j("userInfo","userName")),e=F("player_name2",e,g),g=F("player_rating","RATING : ",za(b.j("userInfo","playerRating")/100,2)," / (",ec("font_small","MAX"),za(b.j("userInfo","highestRating")/100,2),")"),
h=F("user_data_dolce",Rg(b.j("userInfo","point"))," (",ec("font_small","TOTAL："),Rg(b.j("userInfo","totalPoint")),")"),b=F("user_data_play",Rg(b.j("userInfo","playCount"))+"回");a=F(["box07","w400"],a,e,g,h,b);b=this.H();this.f().append(b,a)},this);b=new mh;Eg(a,b,function(a){a=hc(a.target.j("userComment","comment"));a=F("player_data_comment",a);a=F(["box02","w400"],a);var b=this.H();this.f().append(b,a)},this);b=new Fg(4);Eg(a,b,function(a){var b=a.target.j("friendCode");a=E("IMG",{src:"common/images/icon_skill_friend.png"});
b=F("skill_name",document.createTextNode(String(b)));a=F(["skill_icon"],a);a=F(["box10"],a,b);b=this.H();this.f().append(b,a)},this);ie(this)};nh.prototype.C=function(){nh.a.C.call(this)};nh.prototype.b=function(){nh.a.b.call(this)};function oh(a,b,c,d){V.call(this,a);this.ca=b;this.Rb=c;this.Xa=p(d)?z(d,function(a,b,c){a[c]=b;return a},{}):d;jb(this.Xa,function(c,d){c=new Qg(a,b,c,d,!0);K(this,c)},this);this.u=Ba()}w(oh,V);oh.prototype.c=function(){var a=this.f(),b=a.c("OL","friendList");this.ya(b);var c=F(null,b);bd(this,function(c){c.c();c=a.c("LI",null,c.l());a.appendChild(b,c)},this);this.i=c};oh.prototype.O=function(){var a=[];bd(this,function(b){b.O()&&(b=Pe(b.H()),Ta(a,Sg(b)))});return a};
oh.prototype.b=function(){oh.a.b.call(this);this.u=this.Rb=null};function ph(a){Jg.call(this,a);W(this,"filter",new Tg(a,"フィルタ",{0:"ALL",1:"取得済",2:"未取得"}));var b=new oh(a,"check","",["ノーマル","ブロンズ","シルバー","ゴールド","プラチナ"]);b.yb=!0;W(this,"rank",b);W(this,"submit",new X(a,"ok"))}w(ph,Jg);f=ph.prototype;f.c=function(){ph.a.c.call(this)};f.h=function(){ph.a.h.call(this);J(this).v(this,"submit",this.ha)};f.ha=function(a){a.target=Kg(this)};f.C=function(){ph.a.C.call(this)};f.b=function(){ph.a.b.call(this)};function qh(a,b){I.call(this,a);this.Rd=b}w(qh,I);var rh="honer_block_none honer_block_normal honer_block_copper honer_block_silver honer_block_gold honer_block_platina".split(" ");qh.prototype.c=function(){this.f();var a=this.Rd,b=F("honer_text",B(a,"trophyName")),b=F("honer_text_view",b);this.i=F(rh[B(a,"trophyType")+1],b)};qh.prototype.h=function(){qh.a.h.call(this)};qh.prototype.C=function(){qh.a.C.call(this)};qh.prototype.b=function(){qh.a.b.call(this);this.Rd=null};function sh(a){S.call(this,a)}w(sh,S);var th={0:"ノーマル",1:"ブロンズ",2:"シルバー",3:"ゴールド",4:"プラチナ"};sh.prototype.V=id;sh.prototype.N=M("GetUserTrophyApi");sh.prototype.F=function(){return sh.a.F.call(this,"trophyType")};function uh(a,b,c){Z.call(this,a);this.Sd=b;this.Ta=c;a=Ma(b.j("userTrophyList"),this.filter,this);y(a,function(a){a=new qh(this.f(),a);K(this,a)},this)}w(uh,Z);f=uh.prototype;f.c=function(){this.f();var a=this.Sd;this.Ma=["box07","w400"];this.Y=F(["text_b","text_c","mt_5"],th[a.L()]);uh.a.c.call(this)};f.filter=function(a){var b=this.Ta;a=B(a,"trophyType");return 0===b||1===b&&-1<a||2===b&&-1===a?!0:!1};f.h=function(){uh.a.h.call(this)};f.C=function(){uh.a.C.call(this)};
f.b=function(){uh.a.b.call(this);this.Ta=this.Sd=null};function vh(a,b,c){Z.call(this,a);this.Kd=b;this.Ta=c}w(vh,Z);f=vh.prototype;f.c=function(){this.f();this.Ma=["box01","w420"];this.Y=F(["box01_title","text_b"],"称号一覧");this.xb=!0;vh.a.c.call(this)};f.h=function(){vh.a.h.call(this);var a=z(this.Kd,function(a,c){c=new sh(c);Ta(a,c);return a},[]);Eg(U.o(),a,this.Ee,this)};f.Ee=function(a){a=a.target;p(a)||(a=[a]);y(a,function(a){a=new uh(this.f(),a,this.Ta);K(this,a,!0)},this)};f.C=function(){vh.a.C.call(this)};
f.b=function(){vh.a.b.call(this);this.Ta=this.Kd=null};function wh(a){P.call(this,a);this.D=null;this.ba=ne(ke.o());this.ra=new ph(a);K(this,this.ra);this.Vc=null}w(wh,P);f=wh.prototype;f.c=function(){var a=this.f(),b=F();bd(this,function(c){c.c();a.appendChild(b,c.l())});this.i=b};f.h=function(){wh.a.h.call(this);ie(this);J(this).v(this,"submit",this.ha);J(this).v(this,"reset",this.Mc)};f.ha=function(a){var b=this.Vc;null!=b&&this.removeChild(b);a=a.target;this.Vc=b=new vh(this.f(),B(a,"rank"),B(a,"filter"));K(this,b,!0);je(this,this.ra.l(),b.l())};
f.Mc=function(){je(this,this.Vc.l(),this.ra.l(),null,this)};f.C=function(){wh.a.C.call(this)};f.b=function(){wh.a.b.call(this)};function xh(a){V.call(this,a);this.Bc=100;this.Qd=this.Yc=this.wd=this.dd=this.Sc=this.Td=null}w(xh,V);f=xh.prototype;
f.c=function(){this.f();var a=F(["map_count_text"],"残り読込数"),b=F(["map_count_last"],"---");this.dd=b;var a=F(["map_count_last_block"],a,b),c=E("IMG",{src:"common/images/icon_map_koma.png"});this.wd=c;this.Yc=b=F(["map_graph"]);c=F(["map_graph_koma"],c);b=F(["map_graph_base"],b,c);a=F(["map_count_side"],a,b);b=E("IMG",{src:"common/images/map_unlock_icon.png"});b=F(["map_reward_img"],b);b=F(["map_reward_side"],b);a=F(["map_count_block"],a,b);this.Qd=b=F(["text_b"],this.Sc||"-----------------------");
b=F(["box02","w400","p_10"],b);this.i=F(["w420","box01","text_b"],a,b)};f.h=function(){xh.a.h.call(this)};f.O=function(){return this.Td};f.eb=function(a,b){this.Td=a;null!=b&&(this.Sc=b);yh(this)};function zh(a,b){a.Bc=b;yh(a)}f.complete=function(a){this.eb(this.Bc,a||"Complete!")};function yh(a){a.f();var b=a.Bc,c=a.O(),d=a.Sc,e=a.wd,g=a.Yc,h=a.Qd;dc(a.dd,b-c);Sc(g,"width",""+c/b*100+"%");Sc(e,"left",""+c/b*100+"%");null!=d&&dc(h,d)}f.b=function(){xh.a.b.call(this)};function Ah(a){this.Ya=a.getKey();this.cc=xg.o().get(Bh+this.Ya,{})}var Bh="view_",Ch=Bh+"global";Ah.prototype.get=function(a,b){return B(this.cc,a,b)};Ah.prototype.set=function(a,b){this.cc[a]=b};function Dh(a,b){var c=xg.o(),d=c.get(Ch,{});d[a]=b;c.set(Ch,d)}Ah.prototype.save=function(){xg.o().set(Bh+this.Ya,this.cc)};function Eh(a){S.call(this,+new Date(B(a,"userPlayDate")));this.set(Fh,a)}w(Eh,S);var Fh="playlogdata";Eh.prototype.N=M("GetUserPlaylogDetailApi");Eh.prototype.V=id;Eh.prototype.F=function(){var a=Eh.a.F.call(this),b=this.get(Fh);a.orderId=b.orderId;return a};function Gh(a){a=a.get(Fh);return Sf[a.levelName]};function Hh(){S.call(this)}w(Hh,S);Hh.prototype.N=M("GetUserPlaylogApi");function Ih(a,b){var c=a.j("length");if(b>=c)return null;a=a.j("userPlaylogList",b,"userPlayDate");return+new Date(a)}function Jh(a,b){var c;c=null!=c?c:!0;b=r(b)?b:0;a=a.j("userPlaylogList");a=Oa(a,function(a,e){var g=+new Date(e.userPlayDate),h=Aa(e.musicFileName,e.levelName);!(!0===c&&g>b||!1===c&&g<b)||h in a||(e=new Eh(e),qb(a,h,e));return a},{});return mb(a)};function Kh(){Y.call(this);this.zd=null}w(Kh,Y);f=Kh.prototype;f.N=M("GetWorldsEndMusicApi");f.V=jd;f.F=function(){var a={};a.userId=dg.get("userId",null);return a};f.qc=function(a){var b=this.Db;null==b&&(b=this.j("weMusicList"),this.Db=b=z(b,function(a,b){a[b.musicName]=b.musicId;return a},{}));a=parseInt(B(b,a),10);return Number.isNaN(a)?null:a};f.na=function(a){a=null!=a?a:!0;var b=Kh.a.na.call(this);return a?kb(b,function(a,b){return null!=this.rc(b)},this):b};
f.rc=function(a){var b=this.j("weMusicList"),c=this.zd;null==c&&(c=this.zd=z(b,function(a,b){a[B(b,"musicId")]=B(b,"musicName");return a},{}));return c[a]};function Lh(a){S.call(this,a)}w(Lh,S);Lh.prototype.N=M("GetUserMusicDetailApi");Lh.prototype.V=id;Lh.prototype.F=function(){var a=Lh.a.F.call(this);a.musicId=this.L();return a};function Nh(a){P.call(this,a);this.ba=oe(ke.o());this.B=new Ah(this.ba);var b=new X(a,"ok");this.be=b.L();K(this,b);a=new xh(a);this.Ic=a.L();K(this,a);this.$a=this.Ga=this.yd=this.Jd=null}w(Nh,P);var Oh=/^is|Max$|^score(?=Rank)/;f=Nh.prototype;f.c=function(){this.f();var a=za(1.2,0),a=F(["text_b","mt_5"],"ver."+a),b=F(["box05","w420"],a),b=F(null,b);ad($c(this,this.Ic),b);this.i=b;this.ya(a)};
f.h=function(){Nh.a.h.call(this);var a=new yf;a.send("//chuniviewer.net/GetScriptVersion.php?"+Date.now());J(this).v(a,"success",function(a){a=Of(a.target);a=B(a,"version");if(120>=a){a=U.o();var c=new Hh,d=new Y(null,0),e=new Y(null,1),g=new Y(null,2),h=new Y(null,3),m=new Kh;a.update([c,d,e,g,h,m],this.Zd,this)}else Ph(this,hc(na("新しいバージョンがあります(ver.%s)\n更新されるのを待ってね",za(a/100,0))))});J(this).v(a,"error",function(a){a=a.target;Ph(this,hc(na("バージョンチェックエラー\n(%s)",q(a.pa)?a.pa:String(a.pa))))});J(this).v(this,
"submit",this.ha);ie(this)};function Qh(a,b,c){var d=a.f();b=F(["mt_20"],na("プレイ履歴 : %s件",b));c=F(["mt_20","mb_20"],na("楽曲別レコード : %s件",c));var e=$c(a,a.be);a=a.H();d.append(a,b,c);ad(e,a)}function Ph(a,b){var c=a.f();a=a.H();c.append(a,b)}
f.Zd=function(a){var b=a.target[0],c=a.target[1],d=a.target[2],e=a.target[3],g=a.target[4],h=a.target[5];U.o();a=this.B.get("updateTime")||0;var m=Ih(b,b.j("length")-1),m=a<m,b=Jh(b,a);a=[];m?(m={},sb(m,c.na(),d.na(),e.na(),g.na(),h.na()),Za(a,nb(m))):z(b,function(a,b){var c=b.get(Fh).musicName;b=4===Gh(b)?h.qc(c):e.qc(c);Ta(a,b);return a},a);c=z(b,function(a,b){a.push(b.get(Fh).musicName+"："+Tf[Gh(b)]);return a},[]);d=z(a,function(a,b){b=new Lh(b);a.push(b);return a},[]);Qh(this,b.length,a.length);
this.Jd=c;this.yd=z(d,function(a,b){b=(8E3<=b.L()?h:e).rc(b.L());a.push(b);return a},[]);this.Ga=b;this.$a=d;zh($c(this,this.Ic),this.Ga.length+this.$a.length)};
f.ha=function(){console.log("submitHandler");var a=U.o(),b=$c(this,this.Ic),c=[],d=[];Za(d,this.Ga,this.$a);Za(c,this.Jd,this.yd);if(0===d.length)this.update();else{console.log("読込数","playLog : "+this.Ga.length,"musicDetail : "+this.$a.length);var e=a.update(d);J(this).v(e,"SI",function(){var a=e.S.T();b.eb(a,c[a])});J(this).v(e,"CG",function(){b.complete();this.update()})}};
f.update=function(){console.log("update");this.B.set("updateTime",+Date.now());this.B.save();var a=U.o().B;a.save("GetUserMusicDetailApi");a.save("GetUserPlaylogDetailApi");var b=Rh(this.Ga),c=a.get(new lh),a=Sh(a),b={totalNotes:b,playerInfo:c.j(),musicDetail:a},b=JSON.stringify(b),c=document.createElement("form");document.body.appendChild(c);a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name","scoredata");a.setAttribute("value",b);c.appendChild(a);c.setAttribute("action",
"//chuniviewer.net/updatescore");c.setAttribute("method","post");c.setAttribute("target","_blank");c.submit()};function Rh(a){return z(a,function(a,c){var d=Ia(c.j("userPlaylogDetailList"));c=null;var e=B(d,"musicName"),g=Sf[B(d,"levelName")],d=z(["judgeCritical","judgeJustice","judgeAttack","judgeGuilty"],function(a,b){return a+B(this,b)},0,d);null!==a&&e in a?c=B(a,e):(c={},a[e]=c);c[g]=d;return a},{})}
function Sh(a){var b=a.get(new Y(null,2)),c=a.get(new Kh);a=a.get("GetUserMusicDetailApi");var d=z(b.j("userMusicList"),function(a,c){c=B(c,"musicId");var d={music_id:null==c?"":String(c),music_name:b.j("musicNameMap",c),scoreData:{}};a[c]=d;return a},[]),d=z(c.j("weMusicList"),function(a,b){var c=B(b,"musicId");a[c]={music_id:null==c?"":String(c),music_name:B(b,"musicName"),scoreData:{}};return a},d);a.forEach(function(a,b){a=a.j("userMusicList");y(a,function(a){var c=B(a,"level"),e={};jb(a,function(a,
b){var c=b;switch(b){case "level":c="difficulty";break;case "updateDate":case "musicId":break;default:c=b.replace(Oh,"").toLowerCase()}e[c]=a});d[b].scoreData[c]=e})});return d}f.b=function(){Nh.a.b.call(this);this.$a=this.Ga=this.B=null};function Th(a){P.call(this,a);a=ke.o();null===a.Ac&&(a.Ac=new L("MAIN","MAIN"));new Ah(a.Ac);Dh("scriptExec",+Date.now());Dh("ver",Re);this.f();this.ib=new dd(this.f());K(this,this.ib);this.ua=new Qe(this.f());K(this,this.ua)}w(Th,P);ba(Th);f=Th.prototype;
f.c=function(){var a=this.f();a.I.body.removeAttribute("onload");var b=a.l("inner"),c=F(["frame01_inside","w450"]),d=F(["frame01","w460"],c);this.ib.c();a.appendChild(c,this.ib.l());this.ua.c();a.appendChild(c,this.ua.l());Xc(d,0);d.style.display="none";this.i=d;a=cc(b);je(this,a,d)};f.h=function(){Th.a.h.call(this);var a=Pb(document,"header");J(this).v(a,"click",this.pd,!1,this);this.pd()};
f.pd=function(){function a(a){delete this.Dc;a.target.element.removeAttribute("style")}var b=Pb(document,"main_menu"),c=Vc(b),d=this.Dc;null==d&&(d=this.Dc=c.height);0===c.height?(b=new de(b,c.height,d,500),J(this).v(b,"end",a,!1,this)):b=new de(b,d,0,500);b.play()};
f.Hd=function(a){var b=a.target[0];if(b.getKey()!=this.ua.ba.getKey()){a=this.ua;this.ua=b=new ({MENU:Qe,FRIENDVS:kh,PLAYERDATA:nh,TROPHY:wh,CHUNIVIEWER:Nh}[b.getKey()])(this.f());K(this,b);var c=a.l();ad(b,c.parentNode,c);je(this,a.l(),b.l(),null,this)}};f.Id=function(a){var b=ke.o(),c=a.target;pe(b).getKey()!==c[0].getKey()&&c.unshift(pe(b));fd(this.ib,a.target)};f.b=function(){Th.a.b.call(this);this.ua=this.ib=null};function Uh(){T.call(this,Lh,"GetUserMusicDetailApi")}w(Uh,T);function Vh(){T.call(this,Eh,"GetUserPlaylogDetailApi")}w(Vh,T);Vh.prototype.nd=function(a,b){return new a(B(b,Fh))};var Re=.04;
(function(){cd("input[type\x3dradio], input[type\x3dcheckbox] {display: none;}.radio, .checkbox {box-sizing:border-box; -webkit-transition:background-color 0.2s linear; transition:background-color 0.2s linear; position: relative; display:inline-block; margin: 0 20px 8px 0; padding:8px 8px 8px 38px; border-radius:8px; background-color:#f6f7f8; vertical-align:middle; cursor:pointer;}.radio:hover, .checkbox:hover {background-color: #e2edd7;}.radio:hover:after, .checkbox:hover:after {border-color:#53b300;}.radio:after, .checkbox:after {-webkit-transition:border-color 0.2s linear; transition:border-color 0.2s linear; position:absolute; top:50%; left:15px; display:block; margin-top:-10px; width:16px; height:16px; border:2px solid #bbb; border-radius:6px; content:'';}.radio:before {-webkit-transition:opacity 0.2s linear; transition:opacity 0.2s linear; position:absolute; top: 50%; left: 20px; display: block; margin-top:-5px; width:10px; height:10px; border-radius:50%; background-color:#53b300; content:''; opacity:0;}input[type\x3dradio]:checked + .radio:before {opacity: 1;}.checkbox:before {-webkit-transition: opacity 0.2s linear;transition: opacity 0.2s linear;position: absolute;top: 50%;left: 21px;display: block;margin-top: -7px;width: 5px;height: 9px;border-right: 3px solid #53b300;border-bottom: 3px solid #53b300;content: '';opacity: 0;-webkit-transform: rotate(45deg);-ms-transform: rotate(45deg);transform: rotate(45deg);}input[type\x3dcheckbox]:checked + .checkbox:before {opacity: 1;}");var a=
U.o(),b=new lh;a.update(b,function(){var a=zg.o();Ag(a,Uh);Ag(a,Vh);a=Th.o();ad(a,Pb(document,"inner"))})})();